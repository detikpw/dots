// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHMocixvKXtpZighbltyXSl7aWYoIXRbcl0pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFvJiZsKXJldHVybiBsKHIsITApO2lmKGEpcmV0dXJuIGEociwhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcisiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW3JdPXtleHBvcnRzOnt9fTt0W3JdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbcl1bMV1bZV07cmV0dXJuIHMobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltyXS5leHBvcnRzfXZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXMoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoInBhdGgiKSxzPWZ1bmN0aW9uKHQpe3ZhciBuPXZvaWQgMCxpPWUoIi4vZXh0ZW5zaW9uL3VpL3NlcnZpY2UiKTtpZih0Ll9tb2RlbCluPXQuX21vZGVsO2Vsc2V7dmFyIHM9ZSgiLi9leHRlbnNpb24vc2VydmVyL21vZGVsIik7bj1uZXcgcyh7ZmlsZUlkQnlQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlkQnlQYXRoKGUpfSxwcm9qZWN0OnR9KX10Ll91aVNlcnZpY2U9bmV3IGkobiksdC5fdWlTZXJ2aWNlLm9uKCJtZXNzYWdlIixmdW5jdGlvbihlKXtyZXR1cm4ibmF2aWdhdGlvblJlcXVlc3RlZCI9PT1lLnR5cGUmJnQuZW1pdCgibWVzc2FnZSIsZSl9KX07dC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24odCxuKXtpZighbilyZXR1cm4gZSgiLi9leHRlbnNpb24vY29yZSIpO3ZhciBhPWZ1bmN0aW9uKCl7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgYT10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxyPW5ldyBEYXRlKGFbMV0rIi8iK2FbMF0rIi8iK2FbMl0pO2lmKHIuc2V0RGF0ZShyLmdldERhdGUoKSsxKSxyPG5ldyBEYXRlKDE0OTg1MTgxOTg2NDcpKXJldHVybnt2OlEucmVqZWN0KHttZXNzYWdlOiIuL2VzbmVjaWwvbW9jLnNqeWJhbGxhdy8vOnNwdHRoIDplc25lY2lsIHJ1b3kgZWRhcmdwdSBvdCBldGlzYmV3IHJ1byB0aXNpdiBlc2FlbFBcbi5lc25lY2lsIHRuZXJydWMgcnVveSB5YiBkZXJldm9jIHRvbiBzaSBub2lzcmV2IGVyb2Mgc2oueWJhbGxhdyBkZWxsYXRzbmkgZWhUIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfX1jYXRjaChvKXt9cHJvY2Vzcy5lbnYucXVva2thfHxzKG4pO3ZhciBsPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciIpLGM9MmUzO3JldHVybiB0LmxpY2Vuc2UmJnQubGljZW5zZSE9PW4uX3dhbGxhYnlFbWFpbCYmIWZ1bmN0aW9uKCl7dmFyIGU9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtsLmVtaXQoImxpY2Vuc2UudXNlIix0LmxpY2Vuc2UpfSxjKTtsLm9uKCJsaWNlbnNlLnVzZSIsZnVuY3Rpb24oZSxpKXt0LmxpY2Vuc2UmJmUmJnQubGljZW5zZT09PWUmJm4uX2VtaXQoe3R5cGU6ImxpY2Vuc2VDb2xsaXNpb24iLGFkZHJlc3M6aX0pfSksbi5fbXVsdGljYXN0ZXI9e3N0b3A6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGUpLGwuc3RvcCgpfX19KCkse3Y6dC5saWNlbnNlP1Eud2hlbighMCk6bi5fZmlsZVN0YXRQcm9taXNlKGkuZGlybmFtZShuLl9waGFudG9tanMpKS5mYWlsKGZ1bmN0aW9uKCl7cmV0dXJuIFEud2hlbih7fSl9KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUmJmUubXRpbWUpe3ZhciB0PWUubXRpbWU7aWYodC5zZXREYXRlKGUubXRpbWUuZ2V0RGF0ZSgpKzMwKSxuZXcgRGF0ZT50KXJldHVybiBRLnJlamVjdCh7bWVzc2FnZToibW9jLnNqeWJhbGxhd0BvbGxlaCB0YSBsaWFtZSBhaXYgc3UgdGNhdG5vYyBlc2FlbHAgLG1hZXQgcnVveSBybyBmbGVzcnVveSByb2YgZG9pcmVwIGxhaXJ0IHJlZ25vbCBhIGVnbmFycmEgb3QgZWtpbCBkbHVvdyB1b3kgZklcbi5lc25lY2lsIGEgZXNhaGNydXAgb3QgZXNhaGNydXAvbW9jLnNqeWJhbGxhdy8vOnB0dGggdGEgZXRpc2JldyBydW8gdGlzaXYgZXNhZWxwICx0Y2Vqb3JwIGVodCB0cm9wcHVzIGRuYSB0aSBnbmlzdSBldW5pdG5vYyBvdCBla2lsIGRsdW93IHVveSBkbmEgLHl0aXZpdGN1ZG9ycCBydW95IGRlc2FlcmNuaSBzYWggc2oueWJhbGxhdyBmSVxuLnR1byB0aSBnbml5cnQgcm9mIHNrbmFodCAscmV2byBzaSBkb2lyZXAgbGFpcnQgc2oueWJhbGxhdyBydW9ZIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfXJldHVybiBRLndoZW4oITApfSl9fSgpO3JldHVybiJvYmplY3QiPT10eXBlb2YgYT9hLnY6dm9pZCAwfX19LHsiLi9leHRlbnNpb24vY29yZSI6MiwiLi9leHRlbnNpb24vc2VydmVyL21vZGVsIjoxMCwiLi9leHRlbnNpb24vc2VydmVyL211bHRpY2FzdGVyIjoxMSwiLi9leHRlbnNpb24vdWkvc2VydmljZSI6MTYscGF0aDp2b2lkIDB9XSwyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2kuY29uZmlndXJhYmxlPSEwLGkudmFsdWUmJihpLndyaXRhYmxlPSEwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24gayhlLHQsbil7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpO2lmKHZvaWQgMD09PWkpe3ZhciBzPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09PXM/dm9pZCAwOmsocyx0LG4pfWlmKCJ2YWx1ZSJpbiBpJiZpLndyaXRhYmxlKXJldHVybiBpLnZhbHVlO3ZhciBhPWkuZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChuKX0sYT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihlLl9fcHJvdG9fXz10KX0scj1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxvPWUoImNyeXB0byIpLGw9ZSgiY2hpbGRfcHJvY2VzcyIpLmV4ZWNTeW5jLGM9ZSgidGltZXJzIikuc2V0VGltZW91dCx1PWUoInRpbWVycyIpLmNsZWFyVGltZW91dCxoPWUoIi4vc2VydmVyL2ZpbGVTeXN0ZW0iKSxkPWUoIi4vc2VydmVyL21vZGVsIiksZj1lKCIuL3NoYXJlZC91dGlscyIpLHY9dm9pZCAwLHA9NmU1LGc9N2UzLG09NSx5PSJhY3RpdmF0ZS1saW5rIixUPSJjb250aW51ZS10cmlhbC1saW5rIixiPSJGcmVlZG9tIixSPXtBdG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFxeWRRQlpwZTR2UG1XdkgyeXJpSFxuOGYvQm1va3FjbERxSk5KVUNvVitSUWF3MTZydC9pM2tSVVVIcVlYVjFvenhQdlFzTnpBcFByYXArMjFNcVZUVFxuZ3pwU0pCNkhuaFlhYkFPTWFodXZ6YVpseHRFVVZBb2Rad0dYbjdiZERMNnRiN1dJam9oaEdteWZzREt2KzJwaVxuVlZuQlArcUdSWHR0YXROeUtrMG1UT2ZiVWI4MG1zcTZTM01uZmhNOFN1T284Myt4WS90WjVpUEd3emoxMWJTRlxudHZrYk1BY1gzWWNLaG9GUm15OEtnRHVPeGpROG1lODJEeTZTZ3NobHNhZTgvMlNOVnowaU1jZ0NJVEFTWE91WFxuMEYwUUZDcmVqeFhUVHpnaDdUQmU5YTR4NTFpWUtNZk0xd3FxWGhWLzN5Y3N6SFpyd0dFZjhGY283M0xXdGZvbVxuSHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSIsVlNDb2RlOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF3ZjBSbjZyZ0ZNVk51YWVnM0tnOVxua2pMTlVUOFoyZm5JcmpVaERHTThGUzdvNWs0TlQxRmR6bnFzb0JwckxkckxSZGtNempIOElQcnJFVTVyS2lXbFxuVk8waUtVN1E3QW1NZkFUU3RlenZmeXMwQUFsK28zZi9rUWlTWnhEMlU1UC9LMzhrbFlwd2Y5TDhNTXRoQWVFRlxueTR4ekE1ZUJ1UHpCZFJIeHZVd1VxaENCOW83M1o0TWF4SG5yYXo1aHgwZjZhZ0VkTFZVNlhzTmtvNXdYbjhaTlxuUDZCYmtPT20vSGdVOEtrV3VKYlU1OHlnWHhQZi9mblpIdTJndHZyei9yTmVtb1hZMWZEeWRpek54RHkrWlBnUFxuaXdlU2RxbkxobEZvSkV1eG5Jd29QbFlNN0p3S2gzSmloT3pBcVFRNVU1SmtNNWUvbUZRL2xGcUNWeE1sbUJRV1xuVndJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSIsU3VibGltZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdTFFRURaelErK2w2dHoyaW9DUGFcbkh4T1Njankya1JEZFBvWHVRODh6Wkc2VmV2eHFtSXphZEhQRkdqVjVwM1ptOE9ZOVIrU2Y2MWtkelJaenZXUmdcbnhvcmxhbm9PbHV0dmZCZkcybGt2Mko0SC9CNzVYcG9BZUd2ZHZJbE9Nb0R4ZndqMnZNSVE0b0hOYUNKMnkrTy9cbmlvaFRGT0MwN25ZN3VmMnNhMHVzT0FaN3pnK2JYeXo2My9mdVNlVm91RkNLR2VZS3ZxMVlDOTkxRjJIajBUaE1cbnh4ZWxsYzZ4MUFhRnV5eUc1SG1kWXFidUtOUytpQXQ3dzhwWVRKb1h4aTlqRTAyMTRHZjBzYnNGbkFiQkZqMnNcbmtPYWVlNFBTcGx5U1pYRW1ZUmVwUDErdzZhRGt1YlZ0c0hNdkZ0K0FyNHd1NGRMdUFqN1M4eXhWVnJLRUc5UnpcbjR3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLEZyZWVkb206Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTRwRG90ZWp0emhpVC9scE5mZDBIXG4yRHYwOE5UU0o4L2l4dVF6M2lKaVZSeFFrb3Q1U240NXd1NFFpUUVvWTVOUS90RGY4VjltRGVlUE5VL1pkOEtZXG5keVJGb3E2YndPbEhjMEhBYTUwdGVjUkNFQ0VTQit0M1RWY3FMTW9nWDMydmdRa1NtbHkwc0Z4dEdGQmpOOFd4XG5WK1E3V1E4bmVmdDdKS2FYdG0rMkZ0N1A0MW9uZCtTZkJlVG9oOW1uOURGZnQrT3VJMnZ6N3MwT1NqZCtQMmJ3XG4rR0VJcjNvdGwzQ0E1UnJJSDlXUnNBVmphd3YrejVMdmFrUVh0TzZKTk5tSmdFckhXWm1rQklsdjJWSERzb1NkXG5NTGdhMmpUaUVIcmtaeWxLUEZvei9oT2RoL2lWSDQvcjFBV3hCaGo4SWdRbFJjTEpndlNCekpvNE9sQmhsWWg2XG54d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIn0sVj17IlEwZENJRVZ1ZEdWeWNISnBjMlZ6SUNOeVlYSjZOQXBrYVc1aGFDNXdiR0Z1WTJoaGNtUkFZMmRpTG1OdmJTeFhZV3hzWVdKNUxtcHpJR052YlhCaGJua2diR2xqWlc1elpTQW9WbE1nUTI5a1pTa0tNVEV2TURVdk1qQXhOd3BPVDJaVWFEWldOVXhHWW5WRlNVNXpiVXhZUlRKM09WTXpNVFpqU0hobFZWcEdUV0pEY0RNM1JpdDBSM0pzVEZGd2JscERiMVpGUW5wRFRVTlFkalpFYVRSV01URkxVRTVNU0dsNFpHZDNja05HZURoUFVGQk9OalE0YzJwSk1YcFdUVWwwVFhCclJIUmlMeXRMZHpSNk1tSlNTVUYyY0VsMlp5dDRSMDV2UTFJelYwTk9TVGxoV1dVMVZYQjNVVUYzZEdGMmEyZGlVMDlrZEhkR2FtMUpMMjFwVXpCWE5tcFhZVWQxVG5SQ1IzVmtSVk5WY21wTk1GUmxNM1JqUmxCRFRWUjNNRkpZTlhscFNYSnNaVk5rUWtwVmVFOVRXa3hUY0dZd1oydzFZVmtyVFhOTFZUazRkSHBOYWxWMWMydEdaR3MzU1hacVZFMWxRMHRNYjFwNmQyaDNNWFJMTVcxMWNGQk9iVU5pVlVkMWExTXJkMVJWUmxKV1VFRnZiRU56VkhwSEwxSkVSV2hXZDJOTFprd3JPQzl5UjAxMVVVSnJORlo0WnpaQ2NucHBPSG81V1VwTVJIWnNhMmhrY2tGT2RrRlhabmM5UFE9PSI6MSxRVzFoZW05dUlFTnZjbkJ2Y21GMFpTQk1URU1nSTNoaFpUbDJDbUZzWlhoZmMyTm9hV05yYkdsdVowQnphR2t1WTI5dExGZGhiR3hoWW5rdWFuTWdZMjl0Y0dGdWVTQnNhV05sYm5ObElDaEJkRzl0S1FveU55OHdOQzh5TURFM0NrVmpTR3QySzFocmVXNWplRkpFV1ZkRlVGRmliemRZVm14cVVFUTNWRzR3ZWpCd2VtMUVaU3MzYjI1UFZYQm5ZVFZCYzJ0TFNUQXlja1JVV1N0RksyUldOQzlwTDJaaFdHNHdkbEZxZEVKM04wVlNhM2RNTTNkWFZURk5lSEo0TlUxb2FITnVkbG95U2pOTVkzQnFiMmwxTWxSS2FHeGlVSGxKTVhaV1J5OUdRVTQzV0RWdFYwVnNkWEp1VWxGSGFsZEJjRmRPVTBOQ0wyWTRVR1psWkZWaWJVTnVhUzl6Wlc1Tk9EbFJUbklyV0RNMFp6QmphamRhUTFFeldWaDJiemQwUzAxd00xRnJkMjVQZVVob2VUQnROQ3QxYVRoWVpFcFlSazg0VXpScVdGTlBTRWt2ZWl0eU5UTXlWMEV2U1VGTGVVdHRNMWcwVldsVFdtbE1WSE5NZGtZMU5VWmlSMmt4U2xZeFlXeFBlVVpyUkhCV1RuaDRTakpMVVVSUE1ubEZNMjhyWTJsc1lsWTRNbXRUZHlzeGRFWnNMelp0TjJ4dWIzZGhNME5JV210T2RWaFllbGRGTDB3M09VRXdSMGhpT0VaeFp6MDk6MSwiU25WemRHbHVJRXhsWkc5MWVBcHFkWE4wYVc0dWJHVmtiM1Y0UUdwMWMzUnBibmRsWWk1d2NtOHNWMkZzYkdGaWVTNXFjeUJ3WlhKemIyNWhiQ0JzYVdObGJuTmxJQ2hUZFdKc2FXMWxJRlJsZUhRcENqQTJMekEyTHpJd01UY0tiMm81ZEVGUllVdHZRMGRhVEd4dFlXZHhaVTR6VkVWQ1ZXOXdVVEZ4Y0dOUFVrbGpNSGRuVmpVclZFUXpORTVoYUVkUVZXaFhhRlZTWVM5YWRIcHNOMFZhYjNWME16WmpaVkowVFVjeVVrd3dLMmxhTjBabFkyTlNWbmd5VlRSTmJVOXRTR3BPYkVGWFprTnRLekE0ZERaVmQyazNRUzlPZDA5VGNrbHVNa1JXV1RaeVYwOWpUV2xGU2xrNGFXSlpaWHBuUVZkMWREY3JWMEV2VGtZeFYwMTFaRWN2ZWxkbmRWZFBOVGwxUVdGUWVFZDBSblJaVGpkQlR6ZFNXa1JEYkdGeWIzSXJTMDlOVG1keldqUXZZbU0yTkVObVRqTjRkV1l5UkU5a1RqQklOMjgyVlVwTGEwMUthVU53WkdORlRYbFRNMVoxU0ZKc1JWWmtWVTFxTTJwbFpsTmxRMDFHUm1GaWJIQlhNRmx6UTJWQ1FUVTNXbE4zV1hCSUswNUtOV2tyYTFsa00zWmpiQ3R6YzFGUmVWUkhOV3haVWl0aU1uRldXRFZFV2xWVlRYVjBNRmRVVFhZck0waEtRbnBOY0ZOdVRqWjNQVDA9IjoxLCJVR0YxYkNCSmNtbHphQXB3WVhWc0xtbHlhWE5vUUdkdFlXbHNMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQXhMekEzTHpJd01UY0tjVzV5V0dkdFkzUlVLMlE0UVVVM01FbHZNVlZSYnlzM1NHeG9Ua1Z0Y1VoVVZuTnBjbUpaVkN0Nk1qaExUalZ3ZFRaNmFXWTVRa2RITjBSWk1GTjJlbXhCVDBOUWVYSmFUbm96YjNoSk9VTnVkMWxVTW1aaFJHTTVlR3BpVW14bVltcHdNRGxWVFRCaU4yOXlNRFZ6V0VaSE1rc3pTRlZtWTNaTk5rTTRhRzA1ZFZseVpXbFhORXRNTVd3d1JUTkdkVWhvWlhoMVIzbHZabUZDZFc1R01qRjFZMFZpY1ZjeFNFeHVjSFZEYkU0ckt6Um9ZaXRWWjBoV2JYaExlalUzVHpCMlRsVmxUR3NyYW5GVVZTdENSVTFZZWs1TlkxbExWVkY2YjBkeE1GUXdjMW92V201MVowMTVWakpTVVd4UWVHMVVhRzFuUjNoRVNTdFJVVEo2Y1hkcFIyMVJlV0Z6U0ZSTGFUVldSMnRRV0RaV2FsVmxNR05WY2tWUUwwSnROQzlXZFhkb2JWZHFSV1ZTVERaMGIwNDVOSHB2UldGbFVFTkpLM2x1UW5kR1R6Rkxka1IzYjNZMlprbFlNREpoYnpKdGRrdDNQVDA9IjoxLCJWRzlpYVdGeklFRnVaR1Z5YzJWdUNuUnZZbWxoYzBBeWJXbHVaQzVrYXl4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQXlMekE1THpJd01UY0tZak4yVFRoblJuTnVhSGR4T0dVclpuVXllSFZ3VlVWaVRreFhjMU5XVWpKMFltVlRSSFZNVEdwSk4wTjVRMjVSV0U5NmQyVm9MMFJQTDJSTU5pczJkazlZVnpkYVUxQTNUUzlEVDNZeGVuZHRMMWQ2U0VZeFYwdEtaVk5aY2xkdlZGZFlORGxtU0VKV1RFOU1UbUpGZDA1SWVWaDBNMFIzV25sMWEyWmtRVUpWVTFsVlEyRjBhekIyT0dGeGNHNTBORGsyTDFSVlZFZG5XWFpGYWs1SlMyOWFNazVYTkhSeVNrSjVRemN2SzJneVMweEVVMU54WTJkb1lXcGpRU3RhWTBWNk56Wk9iM0pCU200ck5XTkVSMkpOVUc5WlkyODJjRmxyWVhoM2NpdFFhMHR3VkVKb2NuVTRXSFJVVkhsNGVGWlpNREF4U21KV2JtbFZOM1pRWW1WWFdWaGpSVE5uVm5SdGNWRTBaak5MYzJOV1pUaEVjall3WXpacFNVbzFLM1pyVUZNM0x6UnJSbE0wUzA1Q1JWbFJZMVZ4TDNGaU9VNW9Wa041VVZGVWFHRkZZMGRyYmsxUGRFMWxVR04zZFdGTFNVeEJQVDA9IjoxLCJWMmx1SUZSbFkyaHViMnh2WjJsbGN5QW9WVXNwSUV4MFpDQWpkbmR1ZFdrS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakEzTHpFd0x6SXdNVGNLUXpoMFpYcFBlRmxsYjFGSWEyMVRPVTk0U0RaaU0zUjBjM2RqUnpad1dqSnlhVGN6UkRORGRDdDRiVkZ4U0hvemNUaGFWMkZ5T1RKWEt6SlVWWEpwV0hsb1QwNUdVblJqWlZkd2VFbHlORmhqWVhNMFNqRnNibk5TYWpselpIWmxNM1pyUVcwekswbFVPV1Z2U0UxMFdtZE5UMEpGVGpkbGIzWlVWa0ZvT1RSTEsyODFRbmRhT0VOTFlUSlFlbVZLVFVoemRFWnlkMnRHYzB0U01sQm9TMFF2TURWd1pEZExOemM0ZERsdlEzaFBkRFZETjNGc1lUVnNUV2Q1U2xwdVVVTnBUM0ZHZWpKTVMzRjJTVGdyY0RWeU56a3dXamhNUlRSUFVGRmpVRE50VGt3ck5YZDJTMWR5WjJoelRUWXdhWFZVTTNGSGJIVjVVa0ZMZVM5emJrdzRkWFF5YmpOM2RucHZOSGdyVkZWdFluRkpWMnhqWTBGRVMzaHNUREZGVGl0MWFWcElaekZyYldsMWVuSkNVbE5WVnpabmFpOUZhWEp0YVRSTWMzWmhTbGhwUTJwdGNXOHlRaTk0U0VSMU5IWTFjbVpSUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqY1dOb09IVUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS2RrdGpNV2N3T0V4dmRYQlBVRU5JUjFsSFNrZEhiR05tV1dwcVJrODVOMVpGZVd0S2RrNVhTbkZ3Y1RoNWRGTk9Ra0pWV2tGa1UwbFZPWEpEWldGRlNtODRZMkpvVGtwWlp6VlZkbUpLWVRWNVdYbGtkM1EyZVZwQ2IwcG9Sa3RaV2pCVmJGRXJkVU5SZGs5SVNsaEdaRXQ2U0dObVRubHJZbms0VDJaUGN6aE1VbUZQU0dOR2RVZzJOME00UzJaU2FtRklhVzVxZHpGelRGSlVaMEpSZFRZMlpFTnRWSFpuU25sNlVIUjNhbEJUT1RWUk9WTldkemhSU3pWM2FHSXdVekp5VEhBdlFteE5jbWcxV1dnMmFrVnBSa1J4TjFZelRYZ3JRV1Z6Uld4a1dIcEtZbGRJWmpOcVpFeEtTbkZFVnk5V01pOVNaemN5UW5adGIxaG1jRVJxVFdaM2RtUXdUbFl4U0hOSVV6ZzRkSEZNWjNsQ2NIbG9ibFpaU0RsbFMwVlNVa2x5Ym5OWWExWm1UMmRRYVRSc1YyUlRTbWRQZFVWNVVXbFlla3huUkd4SE1WSTNRWFZ2WkdkVVpVbzRjeTlrV1ZaUlBUMD0iOjEsIlUzUmxabUZ1SUZSb2IyMWhjd3B0YjI5dVFHcDFjM1J0YjI5dUxtUmxMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvUm5KbFpXUnZiU2tLTVRJdk1URXZNakF4TndwNk1WSmtValZGWldkcFZ6RllMell5VGtzMlIwVkpabEJxV1dnclVVRmhSWGRNVlV0dWIwd3hRVk5WYTBZeFozaEpNV2wxWVVkWVNYbEtabVJqTkdsT05tRkpialZPYVdoV1ZtOXNkMWt3YUV4RVIzcHRZV1pKUTJ0WFJWSnRZMUV3Y0c5MFIzWTNOMFl3Wm5FeGFUWlBRVVY2U0ZOelMzcFBlalowVlU4cmNtbFdjRlpqVUhCVWJFSjJkVUprVEhNMGVXY3pabXMyY2xsTFZucElhMk5IZWk4d1lubExkVVZZU1RORVRFUm9RM0ZLVTI4eFZYWk5hVWRQVmxCS1VXTlpXR3ByZGtwWFVYY3pRVlZJYWt0MU5YQlVUVk5CVG1OSWRGSnNVVmh4YWxGSVMxbGFaM0paTTBoNFdEUm1jRlZxUzBwV1NEWmpUVmhwU1RSNU1VbG5PRTgzT1RkVmRVRXlOR2c1WjNOdVJsVjFWMWhhVlZobGRFNUdXbFZNWW5KTWRWaHhUVWhoYUhFeFlqUmxXbXRyYVVKdFdXbEVaR0UxTkV3d0t6Uk1Ubk5hU0ZaT1FrZFJRVEZ3YzIwMmJDOUphMWQ2TjNjOVBRPT0iOjEsIlRIVmpZU0JUZEdWbFlncGpiMjUwWVdOMFFHeDFZMkV0YzNSbFpXSXVZMjl0TEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS016RXZNVEl2TWpBeE53cHllRllyTlZac05sTlRRMnRSTjNBdmJrdG9iMDk0ZDNjMWRFTXJNbW81YUc5dU5FSmFlRWhXVDIxNVFrRnFNbTFaZUU4NFJGQlFUWE52Y1ZsM05tTk9VamRtVVVKd1ZIWmpla3huYW1JemMzaHVhR3A1T0VSMlRrdHRhMUZsY1dwVmRWaHFhVEJIUjFsVFNrZFpPVlpYUmpscVoybDFVbWhOWjBWT0wxY3dNelZaZEZNMFEwTXlSaTh3Y1VGWk1WZFdWamhTTWpaUVZETk9jeTh2VUVkMmJURTJlSG9yVmpoR2NrUmxlazQ1YXpSamFGRkxPRFJCUmpCR2RWb3hNRXB0TmpSMVpFaE5VM2xJZW1ka2VXRkxWM2RQVEdSaVlXc3dWblk1U2pnck9Ea3pjMVpFTVV0NldqWllTbWswWlRZd1psWTNSMUoyYlZoVWRGcG1hbEZITVRBd2RXUklORzlPT1Vsd09IZFVSSFk0YmtkTGVEaEtXSFZ1Wkc4Mk1sRjRjSEkyVDBwbldpdFlXQzh4UWxGbVQxUm9jMjlxVFdSblJHeFhRMDR3ZGtOWkwwNXFSVVprVUd0alVGcFFaRXRhUVU5MlFVRTlQUT09IjoxLFRHOTFhWE1nVm1GdUlHUmxJRU5oYkhObGVXUmxDblprWXk1c2IzVnBjMEJuYldGcGJDNWpiMjBzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoV1V5QkRiMlJsS1FveE9DOHdNUzh5TURFNENrUjRZMHhaVFZFMFVDODJiR1JwYjJwVFZVOVFaMFpsZVhwcGIzRkhaMDVoWjFjMmMzSk5Oak54T0RaWFF6RjBRVTUyV0ZWSWFpdDNjWHB5UW5kNlJrZE1aR0ZWZFhoVFJUVkZSa1l5YUVoT1EwZE5NMFpaZGxkT2NEbFRPVVJJY0N0dU5ETXdVSGROTTJGMFdWUTVNVU5CTlhWTFlqZGpha3gyT1VOaVRVVk5NRGhuTkhKSE5VUjFZbm8zV0hFeGVYUXhNamw0V1VWNmFteFpRbXRTT1U5SU1ucFBSWEpYYjBGcVVXNVBlVmgwY1cxVlJ6VlZOR0pNTVhwU2FFaENUa2h5UldOdGJtaDBaWGg1ZEhGRE5UZHlUSEpHZWpKRk5GTkxhMlZrZVRjMWMycHpibWhJTVZoWk5HeFBPSGR4UWtVNVNrcDZWblZYUm0xa2NVaHlZbkpDYlVaR2FVVkVNMWhPY2xaRVpVRmhibWQyVVdkT1EwNTBXa1JCVDNkMFFUTkdWMVpPVEVScU1qbHJjbUowUWpKUU4wdHRSV2xXVTFJMFdUZE5WMngxYWswMFduZzJlWFZvYnl0c09VZGxhRUo2VkhJMGR6MDk6MSwiUkc5dGFYTnZablFnVUdsdmRISWdUbTkzWVdzS2NDNXViM2RoYXpKQVoyMWhhV3d1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9WbE1nUTI5a1pTa0tNVEF2TURJdk1qQXhPQXAwVnpsMldsbE5ZVXBDUjNOcE0wSklSMGRZVTNscU9EVjJPVmROVlRNMVJsSmtlVmxSVVVOeFpYSm5VRmRMYmtsSFZGaHRlR1ZoSzNKUVRFaHJLMmx6UVV4NFpFTm1kVmd4TnpsUVl5OXFaM1IyWjFKTmNXY3JTWGxtYlhvMU9XTXJZMUE1Y0dKdk5EQjJPRllyYjBaR04zWkJaRmhWYzBVMVRGQnhTa3hDU25GMGVXaExLMEpKZVdkdk5UWjBhM2hGYzI5b01EazJhMDFEZG5kTlJtWXdiV3g0VUZvd2JrOXNRMWd2UWtKc0wwcHRkR1IzTjBwaksxTlllVGN5VlRaS2FHVnBXRWxWTkdoQ1JWRk1lVUpwUm10UU9HSllaM2N5WVdNclRtaDJTbGxaYlZoMGMyMUdMelJSVGpGemFVSkNaM3AxZEdaNlZVaGFTbkpXTkZkTE5HUmpWamM1WnpWellpdFpVWGxGZG1odE5qRlZZV1YxUW1acGFGcEpVa0o2Y0ZsRGFsUkNVMUkzZEVKaFZYZEdWemRuZEhoblluVlRRa1ExYzA1V1ZXRjBjR1V4ZFhCdFRGUnhNa1ZFTVVGS1NHWkxNRkU5UFE9PSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBalpubDZNSGNLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tZMnRSVnprM1JuTmpTeXRIV1VaQ1NGcHRhVmhNVjI5VGRsRmhVMms0UXpRMEwxZDNZV0V3V0UxdlZtUjBSVVExY25Zck5pOWtZelJQVVRaVmFGVjFPRTF2WWsxVWR6ZHRaR3A1VEdWRU1qZDBjalpqUmsxeVlqQnRhSGR4TTNkNGF6WTBkVzk0YWt0TVZtczFTR1JvYUZWaVZGSkNLMmx2Ym00NU9XRm1MMmh0VFVkWFVWbG5hMHhSV1dkSGNrdEJaa2xKYXpFNVNWZFlNVTVxUWlzNVlWRmlNV05EV0ZSM1JIbzRRMHhPVW1SVU1EWktRbk52YjFCd2VsRnZNR2xDYmt0V1NGVlRWMDlTUzBnek9FRnNOMHhJYURjeGJVdzJWVzFrVkcxRmFWRkhZblE0UWpCWWRTODFTbFoxZFd0MlJIRTBablpMZUc1dmVrcGhWMUFyVFhweVIxTTBla3R2V0U5cGFrSmtSblU1VFRFemR5dFpUaTgxVlc5aVEwRXhTbFJ6UW1NeWRtYzJTSEZVTTFsNlExTkdOVmsyZGpWNFdUaHVlR014T1RWTGRETnRlbnBwTW04eWNtVk9Ra1I1UW5CSFRUQlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTUdZME4zY0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2QweHlUMUZ0VFZCbVJXcFZlSFpJY3paeGEwVmhhR3BVZFhkTVNrMURVbGxVY1VWS1pIZFhjamxNTlVwRFZGYzFiWGxwYlhNMVVXUldOazlXYmxSc2JsSndTMVZsUWtSSFdEY3djM3A0VERZdmJUVnZaV2RsU0dabVpUbGlRM0YzUVhaWkszcE9hMFJ4TDBRelIydGtkMnBaTmpsVGJXeHlSSGgyWjNGblVFOTJNVGd2VFd4SGVFaEdTbWRWYm05VFZuZ3JRako1YTNsM1dXSlRiekpITm5saldqZFhjRzlMT0hsMFpFbHRhbE1yYUZkNFEwTTJNME5vVUdvemIzVTBlWEI0TW1Jd2MwRlROVTF2YVdwYVdFaEtjM015UlU4dlZHaFlXVTlFWWpoTVVURldjMkY2VERoTFJEWjNWV2hPU0dWaFprUnNkR3BpVW1WdWJVTmlkbEEwT1d0dWJYRkxaazVUZFd4NGNrRjBlVEExYTFOR01qaHZTbVUwUVRWRFdHSm5aMWxMTXpONFducDFOR3Q0YW10UFYzSkpMMGR4YlRoeWJHSjZUelZXUmpOQlVFUXZZMFF2YVdOUmNUTjJUMm8wWlZGUlBUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpZalp0WXpnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLYkdkNFJTdHVRa2R4YWpVcldYZDFhbGd5V1VGa2MweE5aMHgzYWs1cE9GbG1TSGRKVm5keFVXTllNa1ZwZGtoTldsRkZRelYxT0M4MmJ6ZE1PVmMwTjJsUFIzTlpTME5HUjBjeldrcGpTSGRFTURWM05VbFZRbEpyUWtnd1ZUSTVSbGd4VjAxUFdXVmtTVGhNVm1JNWQyVXpkVWs1T0c5UVNVbzVaSGR1VkdGNWVqQlZLMms1Y2tkNmNHNXJUWFZuV25oT1lqQjFWMnRZV0ZsRlZrdGxMMkZsYmlzNWJXdGFUVkJDTDFGeFpHZFFNVE5hYm1ab09FcDRSVWR3ZGpaWVZETlJZemx6YTBnNVNGSlBhVVoyV0ZBeFRtMTVOVGRuY1VwVWRYTXdhWEZaYTJwV1ZtTnNlbHBoUlUxSkswTlJlR1JFYTBzd2Jrb3lXWFZZTkRFMVl6a3paRnBvS3pkcWJGcG5aSFZCYTI1UFdVSnhhRlZ4TWpSNmJVdHJRems1WVZkaE4wNWFZV3BoY1V3dlJrOWhMMFJyTW1oWVpHWlBVbms0Y21sYWIyTlVLM0JKVjJWS1owaDBjWEpVUkZseVFtNXNSVXAzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak16ZHJjSGdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0taSGhwSzFKV2VrZFdORkpNVjNGVFZVNVlTV1pMVHl0ek0zSlVLM1l5U2pnMVl6UlNMMlpFVEhONmNtdzVXV2hGYW1OWUsyTk1UMFJIVVdOcVVXSmtkRkpMY0dSTFpVMXlTa1oyYVUwM1ZtVmpkbk12SzFGYWJteHVNR3RGY2t0WFUyNHJNRFJHTkdGdVoyWjBjR05pUm0xMVpqQkxMeXQ0VVhaaFUzQTRPRVJsVFRoWk1XcHVUakpSYXpKeGRFVlFjQ3RST0dkRFVpOWFRMnhGVkZaelVGbElSelJPTXk5SlVUSlZWblJXU1hoMmRIVjZOMGxrZVZWM1RFMTVXbVZLVDA5elNVZE5OV3BpTlhsdmQzQnhWVkpqY0VaWFRsQXZXWGhZWkZnclRtTlRRek12V20wd2JXaGxVSFJKUkdkbFRISXlXR3d2VTJGcmFTOVhRVFJYY0hkb2FYUXpkeXRpYjNsMWFGQnZaVWhFYUVaUE4za3dUalUzWW1SRFNTdGxUemMxVHpRMGNGcFZRbXQwTUc0NFduQmhXVk00VURkR1RVZFRXSHByTUVsTmFtSm9Wa3RaYTNvNGVqWXZaVTVESzB4c1JTdDNQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqZGpKdmR6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS1Vra3hTelp0ZGpoNlFXcHRUa1JFZFhSWWJYVnhlbVU0Ykd0VGFGSlJlRFJGU1RsSVVUVlhRVGxZV25kaFZEYzFRbWRvY0hwVGFYcEJkRnA0WVZoNVpFTlJiRVpFVEdJd2MyaEZaV05DUW5OTmFreFhkRTFwUnpSSFowbFZkR1pOTVRWU1JFZDVNVGxzVWxrM1VXWlRTSGhKVmtsR2JUWTFWR3B1YTNWV05IWlFSSGRCTmxOU2VXbExhVVo1SzFkcEszUk5ZbmM1WVN0RVUyZzROamw2VWpGTmNuSlFXa1pwUldNeGRFbDFSV3BXVnk5VmJuaEhNbWhoTkdZclZWTTNlVnA1ZVdwS1R6UllXbmN4VlN0aFJVOVBia3hyUWxoc2EyOTBZM0ZsTUVFck1pOXZUMjlzVldZMldUUlJhVWxxZVdoc1dYUlVjVEl2WjNCVmRrVjNkWGxWYWxkeE1rUjVOVk01VG5WbEt6VnNMM0pOVUVoUVowUlZVek5XYldaeU1Ib3ZRakZGU0dOWlMzSnNWVEl4V21oUlQzaHdlRWxuVTJweldXUnRUa05ZWW5SUmNrdGtWalJZVm14SmQyWmtUbGhHWTBKblBUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNalZpTW5JS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLYUVwT09HMXlOR0V6YW1sNGVtVlNiMWx2TXpKd1VHMDNOWGd2TDJoNFFrdGxaM2RwZDFwWE0xRkVTazVOVld0Vk1XOXJObmxVVUV3MFpqSjBaR2hvYzJaUVUzaFFLMlpYVlRsSWFtOW9OMVJXVDNkVWNXVnpPRmxVWkZKR01EUnZhRkU1U21WcU1tRktlVTFKWTFSR05tRnRhMHRQV1ZaV1lVWkRORFpZT0VwYVRUVlVRMVZ2YkVOWFZpOU5UV2RqWWpkTE9FWlhORnBMWjNaMFVFRkRaVk42YlZwcGJuRlNkMGhpVGpCVk9Gb3hNRk01T1hWTEwxZExkVWxCZG5SaFVqZHRUV2RLWTJ4YWVGaDNOR2RWUkRGMGIxbzRhazFUT0VoQ1duWjJiMWxZYUV0VFZVeEZlVTR2V0U1amVEQTRZM0JWVjJVcmNYTjBNWEZWUkZBelpqZHROMVZNVjFsc1JuWTVVMDhyVVZobE5XRklRM3BsVERabFEzYzNXRkV3U0VaR1ZXTlliSGRpWjNWck0yMHlVMVp6VkRKc1ExWnplVzU1WW1sMFoyVk5NbUpSYlhoS2JuQkdkRmhYVUU1MFJVNUpRbWQzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamJubDJhamNLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVMWRZVVdoeGRrTm9ZamQyY21wWGRERjRWMjl4VFM5M2JrRkZZbkV4VDJsNVRteE9kMUZ5ZVdOYUwxUkpkVVl3VXk5M1ZuWllhbGxTV0VKTlZEWjVXamhrSzBsV0wxcHlSbEZDWkZOaFNqUlhZa0ZJTms1WlJqWllablkyWlRCcWN6UnpNbFI1ZUVaRlp6aDVabFJQT1hGb1JtRnlNMWxyVWs5UFRFeGlNV3N6Y3pCUk5ISldkRkpoSzBkUVdIY3dURVpyWVUxS1VFMTNSSGhtV1hwU2JUTkNiMkpxYkN0bmIyWk9XbUZJU1VJMWVYQXdUMjVhUmtVNVoyMVpkSEE0WkhKa1kyNXNkM2wwVFhGMFFXMWhPUzlqUVUwdk1TdGxTM0pFUnpod1NVWlZjVzVvZEhwbVJFMVlWVGh0VG04dlJVWnJTamREYVV4bk5uQlliRUkxTjB3eGRUQmhTbVl6VTBsemRFMXhkMHM0VFU5UVdGVkZZMVpPTDNWbFkwVlVLM0JGVjI5cFIzUjJPVlZKTTJSbE9XSnJTSGhrZFVaSVRHWjVlazFVT0ZkMVprMXJTMWhhVlRSa2NpdFdkMDAxTmtGUE1VTm5QVDA9IjoxfTtfLmVhY2goVixmdW5jdGlvbihlLHQpe3RyeXtWW18ucnRyaW0oZi5wYXJzZUtleSh0KS5saWNlbnNlU2lnbmF0dXJlLCI9IildPTF9Y2F0Y2gobil7fX0pO3ZhciBGPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7cih0aGlzLG4pLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG4ucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyk7dmFyIHQ9dGhpczt0aGlzLl9kaWZmTWF0Y2hQYXRjaD1lLmRpZmZNYXRjaFBhdGNoO3ZhciBpPWUuUHJvamVjdDt0aGlzLl9wcm9qZWN0PW5ldyBpKGUpLGUucXVva2thfHxkZWxldGUgcHJvY2Vzcy5lbnYucXVva2thLHRoaXMuX3F1b2trYT1lLnF1b2trYSx0aGlzLl9wcm9qZWN0Lm9uKCJtZXNzYWdlIixmdW5jdGlvbihuKXtpZighIWUucXVva2thPT0hIXByb2Nlc3MuZW52LnF1b2trYSl7dmFyIGk9dFsicHJvamVjdDoiK24udHlwZV07aSYmaS5jYWxsKHQsbil9fSksdGhpcy5fZnM9bmV3IGgodGhpcy5fcHJvamVjdC5fbG9jYWxSb290LGUpLHRoaXMuX21vZGVsPW5ldyBkKHtmaWxlSWRCeVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2ZzLmlkQnlQYXRoKGUpfSxwcm9qZWN0OnRoaXMuX3Byb2plY3QsYWx3YXlzU2VuZEFsbExpbmVzOiJWU0NvZGUiPT09ZS5jbGllbnR8fHRoaXMuX3F1b2trYX0pLHRoaXMuX21vZGVsLm9uKCJtZXNzYWdlIixmdW5jdGlvbihlKXt2YXIgbj10WyJtb2RlbDoiK2UudHlwZV07biYmbi5jYWxsKHQsZSl9KSx0aGlzLl9wcm9qZWN0Ll9tb2RlbD10aGlzLl9tb2RlbCx0aGlzLl9yZWFkRmlsZVN5bmM9ZS5yZWFkRmlsZVN5bmMsdGhpcy5fd3JpdGVGaWxlU3luYz1lLndyaXRlRmlsZVN5bmMsZS5xdW9ra2F8fHRoaXMuX3ZlcmlmeUxpY2Vuc2UoZS5jbGllbnQsZS5sa3ApLHRoaXMuX2NvbnNvbGVPdXRwdXQ9W119cmV0dXJuIGEobix0KSxpKG4se2NvbmZpZ3VyZTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlLl9ydW5JZlZlcmlmaWVkKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3Byb2plY3QuY29uZmlndXJlKCl9KX19LGZpbGVDaGFuZ2VkSW5FZGl0b3I6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2ZzLmZpbGVDaGFuZ2VkSW5FZGl0b3IoZS5wYXRoLGUuY29udGVudCxlLmNoYW5nZUZyYW1lKX19LGZpbGVPcGVuZWRJbkVkaXRvcjp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpO3QmJih0Lm9wZW5lZEluRWRpdG9yKCksdGhpcy5fZW1pdERvY3VtZW50TGluZXModCkpfX0sZmlsZUNsb3NlZEluQWxsRWRpdG9yczp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpO3QmJnQuY2xvc2VkSW5BbGxFZGl0b3JzKCl9fSxydW5UZXN0czp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLG49ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuaW5zdGFsbFBhY2thZ2U7aWYobiYmdCYmdC5xdW9ra2EmJnQucXVva2thLmluc3RhbGxQYWNrYWdlJiZuLm5hbWU9PT1mLnZhbGlkUGFja2FnZU5hbWUobi5uYW1lKSYmdC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuY29tbWFuZCl0cnl7bChmLmZvcm1hdCh0LnF1b2trYS5pbnN0YWxsUGFja2FnZS5jb21tYW5kLHtwYWNrYWdlTmFtZTpuLm5hbWV9KSx7c3RkaW86InBpcGUiLGN3ZDpuLmxvY2FsP3Byb2Nlc3MuY3dkKCk6dC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuZGlyfSl9Y2F0Y2goaSl7cmV0dXJuIHZvaWQgdGhpcy5fZW1pdFN0YXRzVXBkYXRlKGkubWVzc2FnZSl9dmFyIHM9dGhpcy5fbW9kZWwudGVzdHNCeVJlcXVlc3QoZS5yZXF1ZXN0KTt0aGlzLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czpzLmxlbmd0aCYmc3x8dm9pZCAwfSl9fSxpbnN0cnVtZW50ZWRGaWxlOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJpbnN0cnVtZW50ZWRGaWxlIixpZDplLmlkLGRhdGE6dGhpcy5fcHJvamVjdC5nZXRJbnN0cnVtZW50ZWRKYXZhU2NyaXB0RmlsZUNvbnRlbnRCeVBhdGgoZS5yZXF1ZXN0LnBhdGgpfSl9fSxzdG9wOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcy5zdG9wKCksdGhpcy5fcHJvamVjdC5zdG9wKCl9fSx1bmNvdmVyZWRSZWdpb25zOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToidW5jb3ZlcmVkUmVnaW9ucyIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3QodCk7cmV0dXJuIGk/KG4uZGF0YS5yYW5nZXM9aSx2b2lkIHRoaXMuX2VtaXQobikpOnZvaWQgdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkFjdGlvbiBpcyBub3QgYXZhaWxhYmxlIGZvciBmaWxlcyBvdXRzaWRlIHdhbGxhYnkuanMgc2NvcGUiKX19LGxpbmVSZXBvcnQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJsaW5lUmVwb3J0IixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwubGluZVJlcG9ydEJ5UmVxdWVzdCh0KTtyZXR1cm4gaT8obi5kYXRhLnJlcG9ydD1pLHZvaWQgdGhpcy5fZW1pdChuKSk6dm9pZCB0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQWN0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIGZpbGVzIG91dHNpZGUgd2FsbGFieS5qcyBzY29wZSIpfX0sbG9jYXRpb246e3ZhbHVlOmZ1bmN0aW9uIEYoZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6ImxvY2F0aW9uIixkYXRhOnt9LGlkOmUuaWR9LEY9dGhpcy5fbW9kZWwubG9jYXRpb25CeVJlcXVlc3QodCk7Rj9GLmZpbGU/KG4uZGF0YS5maWxlPUYuZmlsZSxuLmRhdGEubG9jPUYubG9jLHRoaXMuX2VtaXQobikpOnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGxvY2F0ZSBhIGZhaWxpbmcgdGVzdCIpOnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGZpbmQgYW55IGZhaWxpbmcgdGVzdHMiKX19LGNvbnRpbnVlVHJpYWw6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY29udGludWVUcmlhbFNlc3Npb24mJnRoaXMuX2NvbnRpbnVlVHJpYWxTZXNzaW9uKCl9fSwicHJvamVjdDpwcm9qZWN0Q29uZmlndXJlZCI6e3ZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7dj1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OmV4dGVuZGVkLWNvcmUiKSx0aGlzLl9mcy5zZXR1cCh0LmZpbGVzLHRoaXMuX3Byb2plY3QmJnRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5fc3RhcnQoe2ZpbGVzOm4uX2ZpbGVzRm9yUHJvamVjdChlKX0pfSkuZmFpbChmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc2V0IHVwIHByb2plY3QgZmlsZSBzeXN0ZW06ICIrbi5fZXJyb3JNZXNzYWdlKGUpKSxuLl9lbWl0VGVzdFJ1bkVycm9yKG4uX3Rlc3RSdW5FcnJvck1lc3NhZ2UoZSkpfSksdGhpcy5fZnMub24oImFkZGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJsb2FkZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImNoYW5nZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImRlbGV0ZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCEwKSksdGhpcy5fZnMub24oImVycm9yIixmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGaWxlIHN5c3RlbSBlcnJvcjogIituLl9lcnJvck1lc3NhZ2UoZSkpLG4uX2VtaXRUZXN0UnVuRXJyb3Iobi5fdGVzdFJ1bkVycm9yTWVzc2FnZShlKSl9KSx0aGlzLl9mcy5vbigibm90Q2hhbmdlZCIsZnVuY3Rpb24oZSx0LGkpe3RyeXtpZihpJiZpLnN0YXJ0PT09aS5lbmQpcmV0dXJuO3YoIkZpbGUgd2FzIG5vdCBjaGFuZ2VkLCBidXQgZmlsZSBtYXJrZXJzIG1heSBuZWVkIHRvIGJlIHN5bmNlZCIpO3ZhciBzPW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO2lmKCFzKXJldHVybjtuLl9lbWl0RG9jdW1lbnRMaW5lcyhzKX1maW5hbGx5e24uX2VtaXRTdGF0c1VwZGF0ZSgpfX0pfX0sX2VtaXREb2N1bWVudExpbmVzOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3RbZS5wYXRoKCldPWUuYWxsTGluZXMoKSx0aGlzLl9lbWl0RG9jdW1lbnRVcGRhdGVzKHQpfX0sInByb2plY3Q6dGVzdFJ1bkVycm9yIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdFN0YXRzVXBkYXRlKGUubWVzc2FnZSl9fSwicHJvamVjdDp0ZXN0UnVuUmVRdWV1ZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXtpZighZS50ZXN0RXJyb3JSZXBvcnRlZCl7aWYocHJvY2Vzcy5lbnYucXVva2thJiYhZS5yZXJ1blNjaGVkdWxlZClyZXR1cm47dGhpcy5fZW1pdFN0YXRzVXBkYXRlKHRoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydCgpKX19fSwicHJvamVjdDpidXN5Ijp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWUoKSx0aGlzLl9lbWl0KHt0eXBlOiJidXN5In0pfX0sInByb2plY3Q6bGl2ZSI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoZSl9fSwicHJvamVjdDpjb25maWdDaGFuZ2VkIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYWRqdXN0UXVva2thRmVhdHVyZXMoZS5wcm8sZS5zZXR0aW5ncyksdGhpcy5fZW1pdChfLm9taXQoZSwiX2ludGVybmFsIiwic2V0dGluZ3MiKSl9fSwicHJvamVjdDpuYXZpZ2F0aW9uUmVxdWVzdGVkIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZTplLnR5cGUsZmlsZTplLnBhdGgsbG9jOmUubGluZSsoZS5jb2x1bW4/IjoiK2UuY29sdW1uOiIiKX0pfX0sInByb2plY3Q6ZmlsZXNSZXF1aXJlZCI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fZnMubG9hZEZpbGVzKGUuZmlsZXMpLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2VtaXRUZXN0UnVuRXJyb3IodC5fZXJyb3JNZXNzYWdlKGUpKX0pfX0sInByb2plY3Q6bGljZW5zZUNvbGxpc2lvbiI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSJXYWxsYWJ5LmpzIGlzIHN0b3BwZWQgYmVjYXVzZSB5b3VyIGxpY2Vuc2UgaXMgYmVpbmcgdXNlZCBlbHNld2hlcmUgb24gdGhlIG5ldHdvcmsgYnkgPGI+IisoZS5hZGRyZXNzfHwidW5rbm93biBhZGRyZXNzIikrJzwvYj4uIE9ubHkgb25lIGFjdGl2ZSBjb21wdXRlciBhdCB0aGUgc2FtZSB0aW1lIG1heSB1c2UgdGhlIGxpY2Vuc2UuPGJyLz48YnIvPklmIHlvdSB3b3VsZCBsaWtlIHRvIHB1cmNoYXNlIGFuIGFkZGl0aW9uYWwgbGljZW5zZSwgcGxlYXNlIHZpc2l0IDxhIGhyZWY9Imh0dHA6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIj5vdXIgd2Vic2l0ZTwvYT4uIElmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJzt0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJlcnJvciIsdCksdGhpcy5fZW1pdFN0b3BwZWQoKX19LCJtb2RlbDpzdGF0c01heWJlQ2hhbmdlZCI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLHByb2Nlc3MuZW52LnF1b2trYSYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmVycm9yfHx0aGlzLl9lbWl0U3RhdHNVcGRhdGUoZS50ZXN0UmVzdWx0c0NoYW5nZWR8fHByb2Nlc3MuZW52LnF1b2trYT90aGlzLl9tb2RlbC5mdWxsVGVzdFJlc3VsdHNSZXBvcnQoZS50aW1lKTp2b2lkIDApfX0sIm1vZGVsOmRvY3VtZW50c1VwZGF0ZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9lbWl0RG9jdW1lbnRVcGRhdGVzKGUuZG9jdW1lbnRzKX19LCJtb2RlbDpmaWxlQWRkZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9lbWl0RmlsZXNUb1RyYWNrKFtlLmZpbGUucGF0aF0pfX0sIm1vZGVsOmNvbnNvbGVPdXRwdXQiOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NvbnNvbGVPdXRwdXQucHVzaChlLm1lc3NhZ2UpLHQuX2NvbnNvbGVPdXRwdXRUaW1lb3V0fHx0Ll9zY2hlZHVsZUNvbnNvbGVPdXRwdXRTZW5kKCl9fSxfc2NoZWR1bGVDb25zb2xlT3V0cHV0U2VuZDp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NvbnNvbGVPdXRwdXRUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLl9jb25zb2xlT3V0cHV0Lmxlbmd0aCl7dmFyIHQ9ZS5fY29uc29sZU91dHB1dC5zcGxpY2UoMCwyMCk7ZS5fY29uc29sZU91dHB1dC5sZW5ndGg/ZS5fc2NoZWR1bGVDb25zb2xlT3V0cHV0U2VuZCgpOmUuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLGUuX2VtaXQoe3R5cGU6ImNvbnNvbGVPdXRwdXQiLG1lc3NhZ2VzOnR9KX19LDEwMCl9fSxfYWRqdXN0UXVva2thRmVhdHVyZXM6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dC5oaW50cz10LmhpbnRzfHx7fSx0LmhpbnRzLmNvbW1lbnRBdXRvTG9nPWU/Ij8iOiExLGV8fGRlbGV0ZSB0LnF1b2trYS5pbnN0YWxsUGFja2FnZX19LF9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWU6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY29uc29sZU91dHB1dC5sZW5ndGg9MCxkZWxldGUgdGhpcy5fY29uc29sZU91dHB1dFRpbWVvdXR9fSxfdXBkYXRlUHJvamVjdEZpbGU6e3ZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkscyl7dmFyIGE9dGhpcy5fbW9kZWwuZmlsZUJ5SWQodC5pZCk7aWYoIWUmJmEmJmEuaXNPcGVuZWRJbkVkaXRvcigpJiZhLmhhc1ZhbGlkRG9jdW1lbnQoKSl7dmFyIHI9ITA7aWYoXy5pc1BhdGNoKHQuY29udGVudCkmJl8uaXNTdHJpbmcobikmJmkpe3ZhciBvPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX2Zyb21UZXh0KHQuY29udGVudCk7aWYoMT09PW8ubGVuZ3RoKXt2YXIgbD1vWzBdO2wmJmwuZGlmZnMmJmwuZGlmZnMubGVuZ3RoJiZsLnN0YXJ0MT09PWwuc3RhcnQyJiYhZnVuY3Rpb24oKXtyPSExO3ZhciBlPWwuc3RhcnQxLHQ9bC5kaWZmc1swXTswPT09dFswXSYmKGUrPXRbMV0ubGVuZ3RoKTt2YXIgcz0wO2lmKF8uZWFjaChsLmRpZmZzLGZ1bmN0aW9uKGUpezAhPT1lWzBdJiYocys9ZVswXSooXy50ZXh0TGluZXMoZVsxXSkubGVuZ3RoLTEpKX0pLHMpe3ZhciBvPV8udGV4dExpbmVzKG4sZSkubGVuZ3RoLGM9Xy50ZXh0TGluZXMobixsLnN0YXJ0MSkubGVuZ3RoLHU9TWF0aC5hYnMocyksaD1NYXRoLm1heChNYXRoLm1pbihpLnN0YXJ0LGMpLXUsMSksZD1NYXRoLm1heChpLmVuZCxjKTthLnNoaWZ0RG9jdW1lbnRMaW5lcyhvLHMse3N0YXJ0OmgsZW5kOmR9KX1lbHNlIGkuc3RhcnQhPT1pLmVuZCYmYS5pbnZhbGlkYXRlRG9jdW1lbnRMaW5lcygwLDAsaSl9KCl9fXImJih2KCJOZXcgZG9jdW1lbnQgb3IgY29tcGxleCBkb2N1bWVudCBjaGFuZ2UiKSxhLmludmFsaWRhdGVEb2N1bWVudCgpKX10aGlzLl9wcm9qZWN0LmZpbGUoe2ZpbGU6dGhpcy5fZmlsZUZvclByb2plY3QodCksImRlbGV0ZSI6ZSxpbkVkaXRvcjpzfSl9fSxfZmlsZXNGb3JQcm9qZWN0Ont2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gXy5tYXAoZSx0aGlzLl9maWxlRm9yUHJvamVjdCl9fSxfZmlsZUZvclByb2plY3Q6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybntwYXRoOmUucGF0aCxpZDplLmlkLHRzOmUudHMsb3JkZXI6ZS5vcmRlcixpbmNsdWRlOmUubG9hZCx0cmlnZ2Vyc1Rlc3RzOmUudHJpZ2dlcixjb3ZlcmFibGU6ZS5pbnN0cnVtZW50LHRlc3Q6ZS50ZXN0LHR5cGU6ZS50eXBlLGJpbmFyeTplLmJpbmFyeSxjb250ZW50OmUuY29udGVudH19fSxfc3RhcnQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbWl0RmlsZXNUb1RyYWNrKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aH0pKSx0aGlzLl9xdW9ra2F8fChlLmxpY2Vuc2V8fChlLmxpY2Vuc2U9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0JiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuaGFzaHx8dGhpcy5fcHJvamVjdC5fd2FsbGFieUVtYWlsKSxlLmV4cGlyeURhdGV8fChlLmV4cGlyeURhdGU9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0JiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmF0aW9uRGF0ZS5zcGxpdCgiLyIpLmpvaW4oIi0iKXx8dm9pZCAwKSksdGhpcy5fcHJvamVjdC5zdGFydChlKX19LF92ZXJpZnlMaWNlbnNlOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdD10aGlzLl9saWNlbnNlVmVyaWZpY2F0aW9uUmVzdWx0KGUsdCl9fSxfcnVuSWZWZXJpZmllZDp7dmFsdWU6ZnVuY3Rpb24oZSl7aWYocHJvY2Vzcy5lbnYucXVva2thKXJldHVybiBlKCk7dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0PXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdHx8e3ZhbGlkOiExfTt2YXIgdD12b2lkIDA7aWYodGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LnZhbGlkKXJldHVybiB0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJlZD8odD0nWW91ciBjdXJyZW50IHdhbGxhYnkuanMgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCBoYXMgZXhwaXJlZDwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2Ygd2FsbGFieS5qcyBhbmQgZnV0dXJlIHZlcnNpb25zIHJlbGVhc2VkIHdpdGhpbiB0aGUgbmV4dCAxMiBtb250aHMsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbmV3IGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXRFeHBpcmVkTGljZW5zZSgpKTp0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJpbmdTb29uJiYodD0iWW91ciBjdXJyZW50IHdhbGxhYnkuanMgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCB3aWxsIGV4cGlyZSBzb29uIG9uICIrdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlKyc8L2I+LiBJZiB5b3Ugd291bGQgbGlrZSB0byB3b3JrIHdpdGggdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHdhbGxhYnkuanMgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIG5ldyBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyksdCYmdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsdCksZSgpO2lmKHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmVkVHJpYWwpdD0nWW91ciB3YWxsYWJ5LmpzIHRyaWFsIHBlcmlvZCBpcyBvdmVyLCB0aGFua3MgZm9yIHRyeWluZyBpdCBvdXQuIFBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZSBvciB0byBhcnJhbmdlIGEgbG9uZ2VyIHRyaWFsIHBlcmlvZCBmb3IgeW91cnNlbGYgb3IgeW91ciB0ZWFtLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLHQpLHRoaXMuX2VtaXRTdG9wcGVkKCk7ZWxzZXtpZighdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmludmFsaWRWZXJzaW9uKXJldHVybiB0PSdObyB2YWxpZCB3YWxsYWJ5LmpzIGxpY2Vuc2UgZm91bmQsIGl0IHN0YXJ0ZWQgaW4gdHJpYWwgbW9kZS48YnIvPjxici8+SWYgeW91IHdvdWxkIGxpa2UgdG8gcHVyY2hhc2UgYSBsaWNlbnNlLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPi48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLHQpLHRoaXMuX3RyaWFsTW9kZSgpLGUoKTt0PSdDdXJyZW50bHkgaW5zdGFsbGVkIHZlcnNpb24gb2Ygd2FsbGFieS5qcyBpcyA8Yj5ub3QgY292ZXJlZCBieSB5b3VyIGxpY2Vuc2U8L2I+LiBQbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oImVycm9yIix0KSx0aGlzLl9lbWl0U3RvcHBlZCgpfX19LF90cmlhbE1vZGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZT1lfHwwLGMoZnVuY3Rpb24oKXtlPj1tPyh0Ll9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIiwnV2FsbGFieS5qcyA8Yj50cmlhbCBzZXNzaW9uIGlzIG92ZXI8L2I+LiBUbyBrZWVwIHVzaW5nIHdhbGxhYnkuanMsIHBsZWFzZSA8Yj5yZXN0YXJ0IHlvdXIgZWRpdG9yPC9iPiBvciB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nKSx0LnN0b3AoKSx0Ll9lbWl0U3RvcHBlZCghMCkpOih0Ll9jb250aW51ZVRyaWFsU2Vzc2lvbj1mdW5jdGlvbigpe3UodC5fc3RvcHBlclRpbWVvdXQpLHQuX3RyaWFsTW9kZShlKzEpfSx0Ll9zdG9wcGVyVGltZW91dD1jKGZ1bmN0aW9uKCl7dC5zdG9wKCksdC5fZW1pdFN0b3BwZWQoKX0sZyksdC5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsJ1dhbGxhYnkuanMgd2lsbCBzdG9wIGluIGEgZmV3IHNlY29uZHMuIFRvIDxiPmNvbnRpbnVlIHdhbGxhYnkuanMgdHJpYWwgc2Vzc2lvbjwvYj4sIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJytUKyciPmNsaWNrIGhlcmU8L2E+Ljxici8+PGJyLz5WaXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nKSl9LHApfX0sX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXt2YWxpZDohMSxleHBpcmVkVHJpYWw6ITB9LHM9dm9pZCAwO3RyeXtzPW4uX3JlYWRGaWxlU3luYyh0KX1jYXRjaChhKXt0cnl7bi5fd3JpdGVGaWxlU3luYyh0LCtuZXcgRGF0ZSl9Y2F0Y2gocil7fX10cnl7aWYoXy5pc1N0cmluZyhzKSlpZihzLmxlbmd0aD4xMDApe3ZhciBsPWYucGFyc2VLZXkocyksYz1sLmxpY2Vuc2VTaWduYXR1cmU7aWYoVltfLnJ0cmltKGMsIj0iKV0paS5leHBpcmVkVHJpYWw9ITE7ZWxzZXtpLmV4cGlyZWRUcmlhbD0hMSxpLmtleT1zO3ZhciB1PWwubGljZW5zZWVOYW1lLGg9bC5saWNlbnNlZUVtYWlsLGQ9bC5saWNlbnNlVGFncyx2PWwubGljZW5zZWRQcm9kdWN0LHA9bC5leHBpcmF0aW9uRGF0ZVN0cmluZztpLm5hbWU9dSxpLmV4cGlyYXRpb25EYXRlPXA7dmFyIGc9by5jcmVhdGVWZXJpZnkoIlJTQS1TSEE1MTIiKTtpZihnLnVwZGF0ZShuZXcgQnVmZmVyKHUrZCtwKSksaS52YWxpZD1nLnZlcmlmeShSW352LmluZGV4T2YoYik/YjplXSxuZXcgQnVmZmVyKGMsImJhc2U2NCIpKSxpLnZhbGlkKXt2YXIgbT1wLnNwbGl0KCIvIikseT1uZXcgRGF0ZShtWzFdKyIvIittWzBdKyIvIittWzJdKTtpZih5PG5ldyBEYXRlKDE0OTg1MTgxOTg2NDcpKWkuaW52YWxpZFZlcnNpb249ITAsaS52YWxpZD0hMTtlbHNle3ZhciBUPWg9PT1uLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWw7dHJ5e3ZhciBGPXZvaWQgMDtpLmhhc2g9VD9uLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWw6KEY9by5jcmVhdGVIYXNoKCJzaGE1MTIiKSxGLnVwZGF0ZShuZXcgQnVmZmVyKHMsImJhc2U2NCIpKSxGLmRpZ2VzdCgiYmFzZTY0IikpfWNhdGNoKGspe2kuaGFzaD1uLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWx9aWYoeTxuZXcgRGF0ZSlpLmV4cGlyZWQ9ITAsaS52YWxpZD0hVCxpLmV4cGlyZWRUcmlhbD1UO2Vsc2V7dmFyIE49bmV3IERhdGU7Ti5zZXREYXRlKE4uZ2V0RGF0ZSgpKzE0KSxpLmV4cGlyaW5nU29vbj1OPnl9fX19fWVsc2V7dmFyIGo9cGFyc2VJbnQocywxMCk7aS5leHBpcmVkVHJpYWw9Xy5pc05hTihqKXx8aisyNjI4ZTY8K25ldyBEYXRlfWVsc2UgaS5leHBpcmVkVHJpYWw9ITF9Y2F0Y2goayl7aS52YWxpZD0hMX1yZXR1cm4gaX19LF9lbWl0RmlsZXNUb1RyYWNrOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJmaWxlc1RvVHJhY2siLGZpbGVzOmV9KX19LF9lbWl0VGVzdFJ1bkVycm9yOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdGF0cyIsZGF0YTplfSl9fSxfZW1pdERvY3VtZW50VXBkYXRlczp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToiZG9jdW1lbnRVcGRhdGVzIix1cGRhdGVzOmV9KX19LF9lbWl0U3RhdHNVcGRhdGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0YXRzIixkYXRhOmV9KX19LF9lbWl0UHJvamVjdENvbmZpZ3VyZWQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdChfLmV4dGVuZCh0LHtmaWxlczplfSkpfX0sX2VtaXROb3RpZmljYXRpb246e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdCh7dHlwZToibm90aWZpY2F0aW9uIixub3RpZmljYXRpb246e3RleHQ6dCx0eXBlOmV9fSl9fSxfZW1pdFN0b3BwZWQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0b3BwZWQiLGRlYWN0aXZhdGU6ZX0pfX0sX2VtaXRFeHBpcmVkTGljZW5zZTp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9lbWl0KHt0eXBlOiJleHBpcmVkTGljZW5zZSJ9KX19LF9lbWl0Ont2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmVtaXQoIm1lc3NhZ2UiLGUpfX0sX2Vycm9yTWVzc2FnZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Byb2plY3QmJnRoaXMuX3Byb2plY3QuX2NsZWFuU3RhY2soZSksZSYmKGUuc3RhY2t8fGUubWVzc2FnZSl9fSxfdGVzdFJ1bkVycm9yTWVzc2FnZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVzc2FnZX19fSksbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9Rn0seyIuL3NlcnZlci9maWxlU3lzdGVtIjo5LCIuL3NlcnZlci9tb2RlbCI6MTAsIi4vc2hhcmVkL3V0aWxzIjoxNSxjaGlsZF9wcm9jZXNzOnZvaWQgMCxjcnlwdG86dm9pZCAwLGRlYnVnOnZvaWQgMCx0aW1lcnM6dm9pZCAwfV0sMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG4gaW4gdCl7dmFyIGk9dFtuXTtpLmNvbmZpZ3VyYWJsZT0hMCxpLnZhbHVlJiYoaS53cml0YWJsZT0hMCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx0KX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9LGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ModGhpcyxlKSx0aGlzLl90ZXN0SWQ9dC5zcGVjLHRoaXMuX2ZpbGVJZD10LmZpbGUsdGhpcy5fcmFuZ2U9dC5yYW5nZSx0aGlzLl90ZXh0PXQudGV4dCx0aGlzLl90eXBlPXQudHlwZSx0aGlzLl9jb250ZXh0PXQuY29udGV4dCx0aGlzLl9hY3R1YWw9dC5hY3R1YWwsdGhpcy5fZXhwZWN0ZWQ9dC5leHBlY3RlZH1yZXR1cm4gaShlLHt0ZXN0SWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3RJZH19LGZpbGVJZDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfX0scmFuZ2U6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlfX0sc2V0UmFuZ2U6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3JhbmdlPWV9fSx0ZXh0Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0fX0sdHlwZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX19LHNldEZpbGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGU9ZX19LGZpbGU6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGV9fSxsaW5lOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZT9fLmlzQXJyYXkodGhpcy5fcmFuZ2UpP3RoaXMuX3JhbmdlWzBdOnRoaXMuX3JhbmdlLnN0YXJ0TGluZSgpOnZvaWQgMH19LGNvbnRleHQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9fSxhY3R1YWw6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdHVhbH19LGV4cGVjdGVkOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBlY3RlZH19fSksZX0oKTt0LmV4cG9ydHM9YX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtzKHRoaXMsZSksdGhpcy5faXRlbXM9dC5pdGVtcyx0aGlzLl9oaXRzPXQuaGl0c31yZXR1cm4gaShlLHtpbml0Ont2YWx1ZTpmdW5jdGlvbih0LG4pe3ZhciBpPXRoaXM7dGhpcy5fa2V5PWUucmFuZ2VLZXkodGhpcy5faXRlbXMpLHRoaXMuX2ZpbGU9dCx0aGlzLl9zdGFydExpbmU9dGhpcy5faXRlbXNbMF0sdGhpcy5fc3RhcnRDb2x1bW49dGhpcy5faXRlbXNbMV0sdGhpcy5fZW5kTGluZT10aGlzLl9pdGVtc1syXSx0aGlzLl9lbmRDb2x1bW49dGhpcy5faXRlbXNbM10sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2hpdHMmJih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godGhpcy5faGl0cyxmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1uW2VdO2lmKCF0KXJldHVybjt2YXIgcz10LmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFtzXT10LGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKHQpfWVsc2UgaS5faXNDb3ZlcmVkQnlOb3RUZXN0cz0hMH0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSwKaS5fc2V0SXNDb3ZlcmVkKCkpLGRlbGV0ZSB0aGlzLl9pdGVtcyxkZWxldGUgdGhpcy5faGl0c319LGxpbmVTaGlmdDp7dmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRMaW5lKz10LHRoaXMuX2VuZExpbmUrPXQsdGhpcy5fa2V5PWUucmFuZ2VLZXkoW3RoaXMuX3N0YXJ0TGluZSx0aGlzLl9zdGFydENvbHVtbix0aGlzLl9lbmRMaW5lLHRoaXMuX2VuZENvbHVtbl0pfX0sc3RhcnRMaW5lOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydExpbmV9fSxzdGFydENvbHVtbjp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRDb2x1bW59fSxlbmRMaW5lOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRMaW5lfX0sZW5kQ29sdW1uOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRDb2x1bW59fSxmYWlsczp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRXJyb3JzfHwodGhpcy5fZ2xvYmFsRXJyb3JzPVtdKSx+dGhpcy5fZ2xvYmFsRXJyb3JzLmluZGV4T2YoZSl8fHRoaXMuX2dsb2JhbEVycm9ycy5wdXNoKGUpfX0sc2V0Q29uc29sZUxvZzp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY29uc29sZUxvZz1lfX0sY29uc29sZUxvZzp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc29sZUxvZ319LGtleTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fX0saXNEaXNwb3NlZDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH19LGlzRXJyb3JTb3VyY2U6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmIV8uaXNFbXB0eSh0aGlzLl9mYWlsZWRCeU1lVGVzdHMpfHx0aGlzLl9nbG9iYWxFcnJvcnMmJiFfLmlzRW1wdHkodGhpcy5fZ2xvYmFsRXJyb3JzKX19LGlzT25FcnJvclBhdGg6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmIV8uaXNFbXB0eSh0aGlzLl9mYWlsZWRPbk1lVGVzdHMpfX0sZXJyb3JzOnt2YWx1ZTpmdW5jdGlvbiB0KCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuaXNFcnJvclNvdXJjZSgpPyh0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJih0PXQuY29uY2F0KF8uZmxhdHRlbihfLnZhbHVlcyh0aGlzLl9mYWlsZWRCeU1lVGVzdHMpKSkpLHRoaXMuX2dsb2JhbEVycm9ycyYmKHQ9dC5jb25jYXQodGhpcy5fZ2xvYmFsRXJyb3JzKSksdCk6dH19LGRpc3Bvc2U6e3ZhbHVlOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2ZpbGUsZGVsZXRlIHRoaXMuX2NvdmVyaW5nVGVzdE1hcCxkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzLGRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHMsZGVsZXRlIHRoaXMuX2dsb2JhbEVycm9ycyx0aGlzLl9pc0Rpc3Bvc2VkPSEwLGRlbGV0ZSB0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHN9fSxzb3VyY2VGaWxlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlfX0sZmFpbHNUZXN0Ont2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2ZhaWxlZEJ5TWVUZXN0c3x8KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9mYWlsZWRCeU1lVGVzdHNbZS5rZXkoKV09dH19LG5vdENvdmVyZWRCeTp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKSxuPXRoaXMuaXNDb3ZlcmVkKCk7dGhpcy5fY292ZXJpbmdUZXN0TWFwJiZ0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF0mJihkZWxldGUgdGhpcy5fY292ZXJpbmdUZXN0TWFwW3RdLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cy0tLHRoaXMuX3NldElzQ292ZXJlZCgpKSx0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJmRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHNbdF0sdGhpcy5fZmFpbGVkT25NZVRlc3RzJiZkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLG51bGwhPXRoaXMuX2ZpbGUmJnRoaXMuX2ZpbGUucmFuZ2VDb3ZlcmFnZUNoYW5nZWQodGhpcyxuKX19LGNvdmVyaW5nVGVzdHM6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX2NvdmVyaW5nVGVzdE1hcCl9fSxpc0NvdmVyZWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ292ZXJlZH19LF9zZXRJc0NvdmVyZWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNDb3ZlcmVkPXRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz4wfHx0aGlzLl9pc0NvdmVyZWRCeU5vdFRlc3RzfX0sYXR0YWNoZWRUb1NvdXJjZUZpbGU6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAmJl8uZWFjaCh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24odCl7cmV0dXJuIHQuY292ZXJzKGUpfSl9fSx1cGRhdGVGcm9tOnt2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztyZXR1cm4gdCYmbiYmXy5pc0VtcHR5KGUuX2NvdmVyaW5nVGVzdE1hcCk/dm9pZChlLl9jb25zb2xlTG9nJiYodGhpcy5fY29uc29sZUxvZz1lLl9jb25zb2xlTG9nKSk6KHRoaXMuX2lzQ292ZXJlZEJ5Tm90VGVzdHM9ZS5faXNDb3ZlcmVkQnlOb3RUZXN0cyx0aGlzLl9jb25zb2xlTG9nPWUuX2NvbnNvbGVMb2csdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYodGhpcy5fZmFpbGVkQnlNZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2dsb2JhbEVycm9ycyYmKHRoaXMuX2dsb2JhbEVycm9ycz1bXSksZS5fY292ZXJpbmdUZXN0TWFwPyh0JiYhbj8odGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLF8uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKTtpLl9jb3ZlcmluZ1Rlc3RNYXBbdF09ZSxlLmNvdmVycyhpKSxpLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyhlKX0pKTppLl9mYWlsZWRPbk1lVGVzdHM/Xy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXtyZXR1cm4gaS5fdXBkYXRlVGVzdFdpdGhQb3NzaWJsZUZhaWxlZE9uVGhlUmFuZ2UoZSxlLmtleSgpKX0pOl8uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3VwZGF0ZVRlc3QoZSxlLmtleSgpKX0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSk6KHRoaXMuX2NvdmVyaW5nVGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz0wLHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSksdm9pZCB0aGlzLl9zZXRJc0NvdmVyZWQoKSl9fSxfdXBkYXRlVGVzdDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF09ZSxlLmNvdmVycyh0aGlzKSx0aGlzLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyhlKX19LF91cGRhdGVUZXN0V2l0aFBvc3NpYmxlRmFpbGVkT25UaGVSYW5nZTp7dmFsdWU6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLHRoaXMuX3VwZGF0ZVRlc3QoZSx0KX19LGlzSW5zaWRlT2Y6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdGFydExpbmU+PWUuX3N0YXJ0TGluZSYmZS5fZW5kTGluZT49dGhpcy5fZW5kTGluZSYmKHRoaXMuX3N0YXJ0TGluZT5lLl9zdGFydExpbmV8fHRoaXMuX3N0YXJ0Q29sdW1uPj1lLl9zdGFydENvbHVtbikmJihlLl9lbmRMaW5lPnRoaXMuX2VuZExpbmV8fGUuX2VuZENvbHVtbj49dGhpcy5fZW5kQ29sdW1uKX19LF9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZzp7dmFsdWU6ZnVuY3Rpb24oZSl7ZS5pc0ZhaWxpbmcoKSYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0c3x8KHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9mYWlsZWRPbk1lVGVzdHNbZS5rZXkoKV09ZSl9fX0se3JhbmdlS2V5Ont2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCIuIil9fX0pLGV9KCk7dC5leHBvcnRzPWF9LHt9XSw1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2kuY29uZmlndXJhYmxlPSEwLGkudmFsdWUmJihpLndyaXRhYmxlPSEwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0sYT1lKCIuL2RvY3VtZW50TGluZSIpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cyh0aGlzLGUpLHRoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZT0hMX1yZXR1cm4gaShlLHt1cGRhdGU6e3ZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLHM9dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU7ZGVsZXRlIHRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlLG4/KHRoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSk6dCYmXy5lYWNoKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKGUpe2UucmVtb3ZlUmFuZ2VzKCl9KTt2YXIgcj1bXSxvPVtdO18uZWFjaChlLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGlzcG9zZWQoKSl7dmFyIG49ZS5zdGFydExpbmUoKSxzPWkuX2xpbmVzW25dO3N8fChzPW5ldyBhKG4pLGkuX2xpbmVzW25dPXMsby5wdXNoKHMpKSxzLmFkZFJhbmdlKGUsdCksci5wdXNoKHMpfX0pO3ZhciBsPU9iamVjdC5jcmVhdGUobnVsbCk7cj10JiYhbj9fLnZhbHVlcyh0aGlzLl9saW5lcykuY29uY2F0KG8pOnIsXy5lYWNoKHIsZnVuY3Rpb24oZSl7ZS5oYXNSYW5nZXMoKT9lLnVwZGF0ZUxpbmVEYXRhKCkmJihsW2Uua2V5KCldPWUpOihlLmRpc3Bvc2UoKSxkZWxldGUgaS5fbGluZXNbZS5udW1iZXIoKV0saS5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpKX0pO3ZhciBjPXRoaXMuX3JlY3ljbGVkTGluZXMuc2xpY2UoKTtyZXR1cm4gdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx7bGluZXM6bj9fLm1hcCh0aGlzLl9saW5lcyxmdW5jdGlvbihlKXtyZXR1cm4gaS5fY29tcGFjdExpbmUoZSl9KTpfLm1hcChzP3RoaXMuX2xpbmVzOmwsZnVuY3Rpb24oZSl7dmFyIHQ9aS5fY29tcGFjdExpbmUoZSk7cmV0dXJuIHQuY2hhbmdlZD1zPyEhbFtlLmtleSgpXXx8dm9pZCAwOjEsdH0pLmNvbmNhdChfLm1hcChjLGZ1bmN0aW9uKGUpe3JldHVybntpZDplLmtleSgpLGRlbDoxfX0pKSxhbGxMaW5lczpufHxzfX19LGxpbmU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lc1tlXX19LGFsbExpbmVzOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJue2xpbmVzOl8ubWFwKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wYWN0TGluZSh0KX0pLGFsbExpbmVzOiEwfX19LF9jb21wYWN0TGluZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUua2V5KCksbnVtOmUubnVtYmVyKCksc3RhdGU6ZS5zdGF0ZSgpLGxvZzplLmNvbnNvbGVMb2dUZXh0KCksbG9uZ0xvZzpwcm9jZXNzLmVudi5xdW9ra2E/ZS5sb25nQ29uc29sZUxvZ1RleHQoKTp2b2lkIDAsZXJyOmUuZXJyb3JTb3VyY2VUZXh0KCl9fX0saW52YWxpZGF0ZUxpbmVzOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwLF8uZWFjaChfLnJhbmdlKGUuc3RhcnQsZS5lbmQpLGZ1bmN0aW9uKG4pe3ZhciBpPXQuX2xpbmVzW25dO2kmJnQuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKGksZSl9KX19LHNoaWZ0TGluZXM6e3ZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwO3ZhciBzPV8udmFsdWVzKHRoaXMuX2xpbmVzKTt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChzLGZ1bmN0aW9uKHMpe3ZhciBhPXMubnVtYmVyKCk7aWYoIWkuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKHMsbikpe2E+ZSYmKGErPXQscy5udW1iZXIoYSkpO3ZhciByPWkuX2xpbmVzW2FdO3I/KHIuZGlzcG9zZSgpLHMuZGlzcG9zZSgpLGkuX3JlY3ljbGVkTGluZXMucHVzaChyKSxpLl9yZWN5Y2xlZExpbmVzLnB1c2gocyksZGVsZXRlIGkuX2xpbmVzW2FdKTppLl9saW5lc1thXT1zfX0pfX0sX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUubnVtYmVyKCk7cmV0dXJuIG4+PXQuc3RhcnQmJm48PXQuZW5kPyhlLmRpc3Bvc2UoKSx0aGlzLl9yZWN5Y2xlZExpbmVzLnB1c2goZSksITApOnZvaWQgMH19fSksZX0oKTt0LmV4cG9ydHM9cn0seyIuL2RvY3VtZW50TGluZSI6Nn1dLDY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxhPWUoIi4uL3NoYXJlZC9lbnVtcyIpLmxpbmVTdGF0ZSxyPTEyOCxvPTI2MjE0NCxsPTEyOCxjPTAsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cyh0aGlzLGUpLHRoaXMuX2xpbmVOdW1iZXI9dCx0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9pZD0rK2N9cmV0dXJuIGkoZSx7aGFzUmFuZ2VzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiFfLmlzRW1wdHkodGhpcy5fcmFuZ2VzKX19LHJhbmdlczp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfX0sdXBkYXRlTGluZURhdGE6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSEwLG49ITAsaT0hMSxzPSExLGM9dGhpcy5fbGluZVN0YXRlLHU9dGhpcy5fY29uc29sZUxvZ1RleHQsaD10aGlzLl9lcnJvclNvdXJjZVRleHQ7cmV0dXJuIGRlbGV0ZSB0aGlzLl9jb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fbG9uZ0NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsXy5lYWNoKHRoaXMuX3JhbmdlcyxmdW5jdGlvbihhKXt2YXIgbz1hLmNvbnNvbGVMb2coKTtpZihvJiZvLmxlbmd0aCl7Xy5pc1N0cmluZyhlLl9jb25zb2xlTG9nVGV4dCl8fChlLl9jb25zb2xlTG9nVGV4dD0iIik7dmFyIGM9by5sZW5ndGg+cix1PShjP28uc2xpY2Uoby5sZW5ndGgtcik6bykuam9pbigiLCAiKTtpZih1Lmxlbmd0aD5yJiYodT0iLi4uICIrdS5zdWJzdHIodS5sZW5ndGgtcis0KSksZS5fY29uc29sZUxvZ1RleHQrPShlLl9jb25zb2xlTG9nVGV4dD8iIHwgIjoiIikrdSxwcm9jZXNzLmVudi5xdW9ra2Epe18uaXNTdHJpbmcoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0KXx8KGUuX2xvbmdDb25zb2xlTG9nVGV4dD0iIik7dmFyIGg9by5sZW5ndGg+MWUzLGQ9KGg/IiAgLi4uXG4iOiIiKSsiICIrKGg/by5zbGljZShvLmxlbmd0aC0xZTMpOm8pLmpvaW4oIiBcbiAiKTtlLl9sb25nQ29uc29sZUxvZ1RleHQrPShlLl9sb25nQ29uc29sZUxvZ1RleHQ/IlxuLS0tXG4iOiIiKStkfX1pZihhLmlzRXJyb3JTb3VyY2UoKSl7aT0hMDt2YXIgZj1hLmVycm9ycygpO2lmKGYubGVuZ3RoKXt2YXIgdj1mW2YubGVuZ3RoLTFdLm1lc3NhZ2UoKTtlLl9lcnJvclNvdXJjZVRleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKHZ8fCIiLGwpfX1hLmlzT25FcnJvclBhdGgoKSYmKHM9ITApLGEuaXNDb3ZlcmVkKCk/bj0hMTp0PSExfSksZS5fY29uc29sZUxvZ1RleHQmJihwcm9jZXNzLmVudi5xdW9ra2EmJihlLl9sb25nQ29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2xvbmdDb25zb2xlTG9nVGV4dCxvLCEwKSksZS5fY29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2NvbnNvbGVMb2dUZXh0LHIpKSx0aGlzLl9saW5lU3RhdGU9aT9hLmVycm9yU291cmNlOnM/YS5lcnJvclBhdGg6bj9hLm5vdENvdmVyZWQ6dD9hLmZ1bGx5Q292ZXJlZDphLnBhcnRpYWxseUNvdmVyZWQsdGhpcy5fbGluZVN0YXRlIT09Y3x8dGhpcy5fY29uc29sZUxvZ1RleHQhPT11fHx0aGlzLl9lcnJvclNvdXJjZVRleHQhPT1ofX0sY29uc29sZUxvZ1RleHQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVMb2dUZXh0fX0sbG9uZ0NvbnNvbGVMb2dUZXh0Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb25nQ29uc29sZUxvZ1RleHR9fSxlcnJvclNvdXJjZVRleHQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yU291cmNlVGV4dH19LHN0YXRlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lU3RhdGV9fSxhZGRSYW5nZTp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmtleSgpO3R8fGRlbGV0ZSB0aGlzLl9yYW5nZXNbbl0sdGhpcy5fcmFuZ2VzW25dPWV9fSxyZW1vdmVSYW5nZXM6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCl9fSxudW1iZXI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLGk9dGhpcy5fbGluZU51bWJlcjtyZXR1cm4gXy5pc1VuZGVmaW5lZChlKT9pOnZvaWQoZSE9PWkmJiFmdW5jdGlvbigpe3QuX2xpbmVOdW1iZXI9ZTt2YXIgcz1lLWksYT1fLnZhbHVlcyh0Ll9yYW5nZXMpO3QucmVtb3ZlUmFuZ2VzKCksXy5lYWNoKGEsZnVuY3Rpb24oZSl7ZS5saW5lU2hpZnQocyksbi5fcmFuZ2VzW2Uua2V5KCldPWV9KX0oKSl9fSxkaXNwb3NlOnt2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlUmFuZ2VzKCksZGVsZXRlIHRoaXMuX2NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsZGVsZXRlIHRoaXMuX2xpbmVTdGF0ZSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfX0saXNEaXNwb3NlZDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH19LGtleTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9fSxfdHJ1bmNhdGVNZXNzYWdlOnt2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9ZS5sZW5ndGg+dD8iLi4uIjoiIjtyZXR1cm4gZT1lLnN1YnN0cigwLHQpLChuP2U6dGhpcy5fY2xlYW5TdHJpbmcoZSkpK2l9fSxfY2xlYW5TdHJpbmc6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlcGxhY2UoL1xyXG5ccyovZywiICIpLnJlcGxhY2UoL1xuXHMqL2csIiAiKX19fSksZX0oKTt0LmV4cG9ydHM9dX0seyIuLi9zaGFyZWQvZW51bXMiOjE0fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG4gaW4gdCl7dmFyIGk9dFtuXTtpLmNvbmZpZ3VyYWJsZT0hMCxpLnZhbHVlJiYoaS53cml0YWJsZT0hMCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx0KX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9LGE9ZSgiLi9zdGFja0VudHJ5Iikscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cyh0aGlzLGUpLHRoaXMuX2FjdHVhbD10LmFjdHVhbCx0aGlzLl9leHBlY3RlZD10LmV4cGVjdGVkLHRoaXMuX21lc3NhZ2U9dC5tZXNzYWdlLHRoaXMuX3N0YWNrPXQuc3RhY2ssdGhpcy5fY29udGV4dD10LmNvbnRleHR8fHt9fXJldHVybiBpKGUse2luaXQ6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3N0YWNrO3RoaXMuX3N0YWNrPVtdLF8uZWFjaCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3N0YWNrLnB1c2gobmV3IGEodFswXSx0WzFdLGUuX2NvbnRleHRbbl0pKX0pLGRlbGV0ZSB0aGlzLl9jb250ZXh0fX0sc3RhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YWNrfX0sbWVzc2FnZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZX19LGFjdHVhbDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0dWFsfX0sZXhwZWN0ZWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGVjdGVkfX0sa2V5Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybih0aGlzLl9tZXNzYWdlfHwiIikrXy5yZWR1Y2UodGhpcy5fc3RhY2ssZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSs9dC5rZXkoKX0sIiIpfX19KSxlfSgpO3QuZXhwb3J0cz1yfSx7Ii4vc3RhY2tFbnRyeSI6MTJ9XSw4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2kuY29uZmlndXJhYmxlPSEwLGkudmFsdWUmJihpLndyaXRhYmxlPSEwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0sYT1lKCIuL2Vycm9yRW50cnkiKSxyPShlKCIuL3N0YWNrRW50cnkiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cyh0aGlzLGUpLHRoaXMuX2lkPXQuaWQsdGhpcy5fZmlsZUlkPXQuZmlsZUlkLHRoaXMuX2xvZz10LmxvZyx0aGlzLl9uYW1lPXQubmFtZSx0aGlzLl90ZXN0cz10LnRlc3RzLHRoaXMuX3N0YXJ0PXQuc3RhcnQsdGhpcy5fdGltZT10LnRpbWUsdGhpcy5fc2xvdz10LnNsb3d9cmV0dXJuIGkoZSx7aW5pdDp7dmFsdWU6ZnVuY3Rpb24odCxuLGkscyl7dmFyIHI9dGhpcztpZih0aGlzLl9wYXJlbnQ9dCx0aGlzLl9pZCYmKHRoaXMuX2J1aWxkRnVsbE5hbWVBbmRQYXRoKCksdGhpcy5fc2V0S2V5KCksaSh0aGlzKSx0aGlzLl9jb3ZlcmVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fY292ZXJlZEZpbGVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdHM9bix0aGlzLl9sb2cmJnRoaXMuX2xvZy5sZW5ndGgpKXt0aGlzLl9pc0ZhaWxpbmc9ITA7dmFyIG89dGhpcy5fbG9nO3RoaXMuX2xvZz1bXSx0aGlzLl9lcnJvclN0YWNrTWFwPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKG8sZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEoZSk7dC5pbml0KCksXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgbj1lLmtleSgpLGk9ci5fZXJyb3JTdGFja01hcFtuXTtpP35fLmluZGV4T2YoaSx0KXx8aS5wdXNoKHQpOihpPVtdLGkucHVzaCh0KSxyLl9lcnJvclN0YWNrTWFwW25dPWkpLGkuc3RhY2tFbnRyeT1lLHMoZSl9KSxyLl9sb2cucHVzaCh0KX0pfXRoaXMuX3Rlc3RzJiYoXy5lYWNoKHRoaXMuX3Rlc3RzLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KS5pbml0KHIsbixpLHMpfSksZGVsZXRlIHRoaXMuX3Rlc3RzKX19LGlkOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LGtleTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fHwodGhpcy5fc2V0S2V5KCksdGhpcy5fa2V5KX19LF9zZXRLZXk6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fa2V5PXRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fZnVsbE5hbWV9fSxmaWxlSWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH19LGZpbGVQYXRoOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXN0RmlsZSYmdGhpcy5fdGVzdEZpbGUucGF0aCgpfX0sdGltZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZX19LGVycm9yczp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nfX0sYWRkQ29uc29sZU1lc3NhZ2U6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2NvbnNvbGVNZXNzYWdlc3x8KHRoaXMuX2NvbnNvbGVNZXNzYWdlcz1bXSksdGhpcy5fY29uc29sZU1lc3NhZ2VzLnB1c2goZSl9fSxjb25zb2xlTWVzc2FnZXM6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVNZXNzYWdlc319LGlzRmFpbGluZzp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNGYWlsaW5nfX0sc2xvdzp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xvd319LHNldFRlc3RGaWxlOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl90ZXN0RmlsZT1lfX0sb2Jzb2xldGU6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9zdGFydFJhbmdlLGRlbGV0ZSB0aGlzLl90ZXN0RmlsZSx0aGlzLl9jb3ZlcmVkUmFuZ2VzJiYoXy5lYWNoKHRoaXMuX2NvdmVyZWRSYW5nZXMsZnVuY3Rpb24obil7aWYobi5ub3RDb3ZlcmVkQnkoZSksIW4uaXNEaXNwb3NlZCgpKXt2YXIgaT1uLnNvdXJjZUZpbGUoKTt0W2kua2V5KCldPWl9fSksZGVsZXRlIHRoaXMuX2NvdmVyZWRSYW5nZXMpLGRlbGV0ZSB0aGlzLl9lcnJvclN0YWNrTWFwLGRlbGV0ZSB0aGlzLl9jb25zb2xlTWVzc2FnZXMsZGVsZXRlIHRoaXMuX2NvdmVyZWRGaWxlcyx0fX0sY292ZXJzOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jb3ZlcmVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIHQ9ZS5zb3VyY2VGaWxlKCk7dCYmIXQuaXNUZXN0RmlsZSgpJiYodGhpcy5fY292ZXJlZEZpbGVzW3Qua2V5KCldPXQpfX0sY292ZXJlZEZpbGVzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfLm1hcCh0aGlzLl9jb3ZlcmVkRmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX19LHN0YXJ0UmFuZ2U6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0UmFuZ2V9fSxjb21wbGV0ZUluaXRpYWxpemF0aW9uOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2Vycm9yU3RhY2tNYXAmJl8uZWFjaCh0aGlzLl9lcnJvclN0YWNrTWFwLGZ1bmN0aW9uKG4pe3ZhciBpPW4uc3RhY2tFbnRyeTtpZihpKXt2YXIgcz1lW2kuZmlsZUlkKCldO2lmKHMpe3ZhciBhPXMuY2xvc2VzdFJhbmdlKGkubGluZSgpKTthJiYoaS5zZXRSYW5nZShhKSxhLmZhaWxzVGVzdCh0LG4pKX19fSksdGhpcy5fY29uc29sZU1lc3NhZ2VzJiZfLmVhY2godGhpcy5fY29uc29sZU1lc3NhZ2VzLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSgpO3QmJmUuc2V0UmFuZ2UodC5jbG9zZXN0UmFuZ2UoZS5saW5lKCkpKX0pLHRoaXMuX2NvdmVyZWRSYW5nZXMmJihfLmlzVW5kZWZpbmVkKHRoaXMuX3N0YXJ0KXx8KHRoaXMuX3N0YXJ0UmFuZ2U9dGhpcy5fdGVzdEZpbGUuY2xvc2VzdFJhbmdlKHRoaXMuX3N0YXJ0KSxkZWxldGUgdGhpcy5fc3RhcnQpLHRoaXMuX3N0YXJ0UmFuZ2V8fF8uZWFjaCh0aGlzLl9jb3ZlcmVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciBuPWUuc291cmNlRmlsZSgpO249PXQuX3Rlc3RGaWxlJiYodC5fc3RhcnRSYW5nZT9lLmVuZExpbmUoKTx0Ll9zdGFydFJhbmdlLmVuZExpbmUoKSYmKHQuX3N0YXJ0UmFuZ2U9ZSk6dC5fc3RhcnRSYW5nZT1lKX0pKX19LHBhdGg6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdGh9fSx0czp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHN9fSxfYnVpbGRGdWxsTmFtZUFuZFBhdGg6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107ZS5wdXNoKHRoaXMuX25hbWUpO2Zvcih2YXIgdD10aGlzLl9wYXJlbnQ7bnVsbCE9dDspe3ZhciBuPXQuX25hbWU7ZS5wdXNoKG4pLHQ9dC5fcGFyZW50fWUucmV2ZXJzZSgpLHRoaXMuX2Z1bGxOYW1lPWUuam9pbigi4piGIiksdGhpcy5fcGF0aD1lfX19KSxlfSgpKTt0LmV4cG9ydHM9cn0seyIuL2Vycm9yRW50cnkiOjcsIi4vc3RhY2tFbnRyeSI6MTJ9XSw5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2kuY29uZmlndXJhYmxlPSEwLGkudmFsdWUmJihpLndyaXRhYmxlPSEwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24gbShlLHQsbil7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpO2lmKHZvaWQgMD09PWkpe3ZhciBzPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09PXM/dm9pZCAwOm0ocyx0LG4pfWlmKCJ2YWx1ZSJpbiBpJiZpLndyaXRhYmxlKXJldHVybiBpLnZhbHVlO3ZhciBhPWkuZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChuKX0sYT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihlLl9fcHJvdG9fXz10KX0scj1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxvPWUoInBhdGgiKSxsPWUoImNob2tpZGFyIikuRlNXYXRjaGVyLGM9ZSgibWluaW1hdGNoIiksdT1lKCIuLi9zaGFyZWQvdXRpbHMiKSxoPXZvaWQgMCxkPTFlMyxmPTUwMCx2PTUwLHA9e2FwazoxLGJtcDoxLGNnbToxLGczOjEsZ2lmOjEsaWVmOjEsaXJ4OjEsanBlZzoxLGpwZzoxLGpwZToxLGt0eDoxLHBuZzoxLGJ0aWY6MSxzZ2k6MSxzdmc6MSxzdmd6OjEsdGlmZjoxLHRpZjoxLHBzZDoxLHV2aToxLHV2dmk6MSx1dmc6MSx1dnZnOjEsZGp2dToxLGRqdjoxLHN1YjoxLGR3ZzoxLGR4ZjoxLGZiczoxLGZweDoxLGZzdDoxLG1tcjoxLHJsYzoxLG1kaToxLHdkcDoxLG5weDoxLHdibXA6MSx4aWY6MSx3ZWJwOjEsIjNkcyI6MSxyYXM6MSxjbXg6MSxmaDoxLGZoYzoxLGZoNDoxLGZoNToxLGZoNzoxLGljbzoxLHNpZDoxLHBjeDoxLHBpYzoxLHBjdDoxLHBubToxLHBibToxLHBnbToxLHBwbToxLHJnYjoxLHRnYToxLHhibToxLHhwbToxLHh3ZDoxLGJpbjoxLHhsczoxLHhsc3g6MSx6aXA6MSxtcDQ6MSxtbzoxLG5vZGU6MSxkdW1wOjEsZGxsOjEsbWFwOjEsbGliOjEsZXhwOjEsb2JqOjEscGRiOjEsZ3ppcDoxLGd6OjEsZGI6MX0sZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKHQsaSl7cih0aGlzLG4pLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG4ucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fZGlmZk1hdGNoUGF0Y2g9aS5kaWZmTWF0Y2hQYXRjaCx0aGlzLl9iYXNlRGlyPXQsdGhpcy5faXNSZWFkeT0hMSx0aGlzLl9pc1N0b3BwZWQ9ITEsdGhpcy5fZmlsZXNCeVBhdGg9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9maWxlc0J5SWQ9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9maWxlSWQ9MCx0aGlzLl9scnVDYWNoZT1lKCJscnUtY2FjaGUiKSh7bWF4OjEwNDg1NzYqdixsZW5ndGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RofX0pLHRoaXMuX3JlYWRGaWxlUHJvbWlzZT1pLnJlYWRGaWxlUHJvbWlzZSx0aGlzLl9yZWFscGF0aFN5bmM9aS5yZWFscGF0aFN5bmN9cmV0dXJuIGEobix0KSxpKG4se3NldHVwOnt2YWx1ZTpmdW5jdGlvbih0LG4pe3ZhciBpPXRoaXM7aWYoaD1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OmZzIikscHJvY2Vzcy5lbnYucXVva2thKXt2YXIgcz10WzBdLGE9e307cmV0dXJuIGkuX2lzUmVhZHk9ITAsYVtzLnBhdHRlcm5dPWkuX2ZpbGVBZGRlZChzLnBhdHRlcm4se21ldGFkYXRhOnMsbXRpbWU6e2dldFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9fX0pLFEud2hlbihhKX12YXIgcj1bXSxjPVtdLHU9e30sdj0wO18uZWFjaCh0LGZ1bmN0aW9uKGUpe2UuaWdub3JlP2MucHVzaChlKTooci5wdXNoKGUpLGUub3JkZXI9Kyt2KX0pO3ZhciBwPXRoaXMuX2lzSW5jbHVkZWQoaS5fYmFzZURpcixyLGMsdSxuJiZuLmdsb2IpLGc9e2lnbm9yZUluaXRpYWw6ITEsaWdub3JlUGVybWlzc2lvbkVycm9yczohMCx1c2VQb2xsaW5nOiJkYXJ3aW4iPT09cHJvY2Vzcy5wbGF0Zm9ybXx8ImxpbnV4Ij09PXByb2Nlc3MucGxhdGZvcm0saWdub3JlZDpmdW5jdGlvbihlLHQpe3JldHVybiB0JiYhdC5pc0RpcmVjdG9yeSgpJiYhcChlLHQpfSxjd2Q6aS5fYmFzZURpcn07aWYoaS5faGFzR2xvYkNoYXJzKGkuX2Jhc2VEaXIpKXRocm93IG5ldyBFcnJvcigiWW91ciBwcm9qZWN0IGZpbGUgcGF0aCBjb250YWlucyBnbG9iIGNoYXJhY3RlcnMsIGxpa2UgYHtgLCBgfWAsIGBbYCwgYF1gLCBgKGAsIGApYCwgYCpgLCBgfGAgYW5kIGl0IG1heSBjYXVzZSB0aGUgcHJvamVjdCBmaWxlIHNjYW5uaW5nIHRvIGZhaWwsIHBsZWFzZSByZW1vdmUgZ2xvYiBjaGFyYWN0ZXJzIGZyb20gdGhlIHByb2plY3QgcGF0aC4iKTt0aGlzLl93YXRjaGVyPW5ldyBsKGcpO3ZhciBtPV8ucmVkdWNlKHIsZnVuY3Rpb24oZSx0KXt2YXIgbj1pLl9nZXRCYXNlRGlyKHQucGF0dGVybik7cmV0dXJuIGVbbl09bixlfSx7fSk7Xy5lYWNoKG0sZnVuY3Rpb24oZSl7aWYoIV8uZmluZChtLGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZSYmZS5zdWJzdHIoMCx0Lmxlbmd0aCsxKT09PXQrIi8ifSkpe3ZhciB0PXZvaWQgMCxuPW8ubm9ybWFsaXplKG8uam9pbihpLl9iYXNlRGlyLGUpKTt0cnl7dD1vLm5vcm1hbGl6ZShpLl9yZWFscGF0aFN5bmMobikpfWNhdGNoKHMpe310JiZ0IT09bj8oaCgiUG9zc2libGUgc3ltbGluazogJXMgLT4gJXMiLHQsbiksdVt0XT17cmVhbFBhdGg6dCxsaW5rZWRQYXRoOm59LGkuX3dhdGNoZXIuYWRkKHQpKTppLl93YXRjaGVyLmFkZChlKX19KTt2YXIgeT12b2lkIDA7cmV0dXJuIFEucHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2kuX2lzUmVhZHl8fChpLl9pc1JlYWR5PSEwLHQmJmgoIkZpbGUgc3lzdGVtIHNjYW4gaGFzIGZpbmlzaGVkIGJ5IHRpbWVvdXQiKSxlKGkuX2ZpbGVzQnlQYXRoKSl9O3RyeXtpLl93YXRjaGVyLm9uKCJhbGwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHkpLHk9c2V0VGltZW91dChfLmJpbmQobixudWxsLCEwKSxkKX0pLm9uKCJhZGQiLF8uYmluZChpLl93aXRoTm9ybWFsaXplZFBhdGgsaSxpLl9maWxlQWRkZWQpKS5vbigiY2hhbmdlIixfLmJpbmQoaS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGksaS5fZmlsZUNoYW5nZWQpKS5vbigidW5saW5rIixfLmJpbmQoaS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGksaS5fZmlsZURlbGV0ZWQpKS5vbigicmVhZHkiLF8uZGVib3VuY2UobixmKSkub24oImVycm9yIixfLmJpbmQoaS5lbWl0LGksImVycm9yIikpfWNhdGNoKHMpe3Qocyl9fSl9fSxfaGFzR2xvYkNoYXJzOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5+ZS5pbmRleE9mKCIoIil8fH5lLmluZGV4T2YoIikiKXx8fmUuaW5kZXhPZigifCIpfHx+ZS5pbmRleE9mKCJ7Iil8fH5lLmluZGV4T2YoIn0iKXx8fmUuaW5kZXhPZigiKiIpfHx+ZS5pbmRleE9mKCJbIil8fH5lLmluZGV4T2YoIl0iKX19LGxvYWRGaWxlczp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUS5hbGwoXy5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5fbG9hZEZpbGUoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5lbWl0KCJsb2FkZWQiLGUpfSl9KSl9fSxmaWxlQ2hhbmdlZEluRWRpdG9yOnt2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYoaSYmIWkuYmluYXJ5KXtoKCJGaWxlIGNoYW5nZWQgaW4gZWRpdG9yOiAlcyIsaS5wYXRoKTt2YXIgcz10aGlzLl9scnVDYWNoZS5nZXQoaS5wYXRoKTt0aGlzLl9scnVDYWNoZS5zZXQoaS5wYXRoLHQpLGkuY2hhbmdlVHMrKyx0aGlzLl9lbWl0RmlsZUNoYW5nZShfLmV4dGVuZCh7fSxpLHtjb250ZW50OnR9KSxzLG4sITApfX19LHN0b3A6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNTdG9wcGVkPSEwLHRoaXMuX3dhdGNoZXImJih0aGlzLl93YXRjaGVyLmNsb3NlKCksZGVsZXRlIHRoaXMuX2xydUNhY2hlKX19LGlkQnlQYXRoOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5UGF0aFtlXTtpZih0KXJldHVybiB0LmlkfX0sX2xvYWRGaWxlOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5SWRbZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBmaWxlIHdpdGggaWQgIitlKyIgZm91bmQiKTtyZXR1cm4gdGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUodCl9fSxfbG9hZEZpbGVXaXRoQ2FjaGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lLmNoYW5nZVRzLGk9dGhpcy5fbHJ1Q2FjaGUuZ2V0KGUucGF0aCk7cmV0dXJuKF8uaXNVbmRlZmluZWQoaSk/dGhpcy5fcmVhZEZpbGVQcm9taXNlKG8uam9pbih0Ll9iYXNlRGlyLGUucGF0aCkpOlEud2hlbihpKSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gaT1pP2UuYmluYXJ5P2kudG9TdHJpbmcoImJhc2U2NCIpOmkudG9TdHJpbmcoKToiIix0Ll9pc1N0b3BwZWR8fG4hPT1lLmNoYW5nZVRzfHx0Ll9scnVDYWNoZS5zZXQoZS5wYXRoLGkpLFEud2hlbihfLmV4dGVuZCh7fSxlLHtjb250ZW50Oml9KSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoImVycm9yIixlKX0pfX0sX2ZpbGVBZGRlZDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcztpZihoKCJGaWxlIGFkZGVkOiAlcyIsZSksdCYmdC5tZXRhZGF0YSl7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgcz10Lm1ldGFkYXRhLGE9by5leHRuYW1lKGUpLnN1YnN0cigxKTtyZXR1cm4gcy5jaGFuZ2VUcz0xLHMuaWQ9KytuLl9maWxlSWQscy50cz10Lm10aW1lLmdldFRpbWUoKSxzLnR5cGU9YSYmYS50b0xvd2VyQ2FzZSgpLHMuYmluYXJ5PXMuYmluYXJ5fHxwW3MudHlwZV0scy5wYXRoPWUsbi5fZmlsZXNCeVBhdGhbZV09cyxuLl9maWxlc0J5SWRbcy5pZF09cyxuLl9pc1JlYWR5JiYobi5fbHJ1Q2FjaGUuZGVsKGUpLG4uX2xvYWRGaWxlV2l0aENhY2hlKHMpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW1pdCgiYWRkZWQiLGUpfSkpLHt2OnN9fSgpO2lmKCJvYmplY3QiPT10eXBlb2YgcylyZXR1cm4gcy52fWVsc2UgaCgiTm8gbWV0YWRhdGEgZm9yIGFkZGVkIGZpbGUgZm91bmQ6ICVzIixlKX19LF9maWxlQ2hhbmdlZDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXM7aCgiRmlsZSBjaGFuZ2VkOiAlcyIsZSk7dmFyIGk9dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYoaSl7aWYodGhpcy5faXNSZWFkeSl7dmFyIHM7IWZ1bmN0aW9uKCl7dmFyIGE9dC5fbHJ1Q2FjaGUuZ2V0KGUpO3QuX2xydUNhY2hlLmRlbChlKSxzPSsraS5jaGFuZ2VUcyx0Ll9sb2FkRmlsZVdpdGhDYWNoZShpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYW5nZVRzPT09cyYmbi5fZW1pdEZpbGVDaGFuZ2UoZSxhKX0pfSgpfX1lbHNlIGgoIk5vIG1ldGFkYXRhIGZvciBjaGFuZ2VkIGZpbGUgZm91bmQ6ICVzIixlKX19LF9lbWl0RmlsZUNoYW5nZTp7dmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHM9ZS5jb250ZW50O2lmKF8uaXNTdHJpbmcodCkpe3ZhciBhPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX21ha2UodCxzKTtpZighYS5sZW5ndGgpcmV0dXJuIGgoIk5vIGNoYW5nZXMgZGV0ZWN0ZWQgZm9yICVzIixlLnBhdGgpLHZvaWQgdGhpcy5lbWl0KCJub3RDaGFuZ2VkIixlLHMsbik7ZS5jb250ZW50PXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX3RvVGV4dChhKX10aGlzLmVtaXQoImNoYW5nZWQiLGUscyxuLGkpfX0sX2ZpbGVEZWxldGVkOnt2YWx1ZTpmdW5jdGlvbihlKXtoKCJGaWxlIGRlbGV0ZWQ6ICVzIixlKSx0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07dD8oZGVsZXRlIHRoaXMuX2ZpbGVzQnlQYXRoW2VdLGRlbGV0ZSB0aGlzLl9maWxlc0J5SWRbdC5pZF0sdGhpcy5faXNSZWFkeSYmdGhpcy5lbWl0KCJkZWxldGVkIix0KSk6aCgiTm8gbWV0YWRhdGEgZm9yIGRlbGV0ZWQgZmlsZSBmb3VuZDogJXMiLGUpfX0sX3dpdGhOb3JtYWxpemVkUGF0aDp7dmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuJiZuLmxpbmtlZFBhdGgmJih0PW4ubGlua2VkUGF0aCksZS5jYWxsKHRoaXMsdS5ub3JtYWxpemVQYXRoKHQpLG4pfX0sX2lzSW5jbHVkZWQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkscyl7cmV0dXJuIGZ1bmN0aW9uKGEscil7dmFyIGw9dm9pZCAwLHU9dm9pZCAwO2lmKDA9PT1hLmluZGV4T2YoZSkpYT1vLnJlbGF0aXZlKGUsYSk7ZWxzZXtoKCJTeW1saW5rIHJlc29sdXRpb24gZm9yOiAlcyIsYSk7dmFyIGQ9aVthXTtpZihkKWE9by5yZWxhdGl2ZShlLGQubGlua2VkUGF0aCk7ZWxzZXt2YXIgZj1fLmZpbmQoaSxmdW5jdGlvbihlLHQpe3JldHVybiAwPT09YS5pbmRleE9mKHQpfSk7aWYoIWYpcmV0dXJuITE7YT1vLnJlbGF0aXZlKGUsYS5yZXBsYWNlKGYucmVhbFBhdGgsZi5saW5rZWRQYXRoKSl9ciYmKHIubGlua2VkUGF0aD1hKX1mb3IodmFyIHY9cz8iLi8iK2E6YSxwPTAsZz1uLmxlbmd0aDtnPnA7cCsrKXt2YXIgbT1uW3BdLHk9bS50ZXN0O2lmKCghbHx8eSkmJmModiwocz8iLi8iOiIiKSttLnBhdHRlcm4pKXtpZih5KXt1PW07YnJlYWt9bD1tfX1pZihsJiZ1KXJldHVybiExO3ZhciBUPV8uY2xvbmUoXy5maW5kKHQsZnVuY3Rpb24oZSl7cmV0dXJuKCFsJiYhZS50ZXN0fHwhdSYmZS50ZXN0KSYmYyh2LChzPyIuLyI6IiIpK2UucGF0dGVybil9KSk7cmV0dXJuIHImJihyLm1ldGFkYXRhPVQpLCEhVH19fSxfZ2V0QmFzZURpcjp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dS5ub3JtYWxpemVQYXRoKGUucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpcKi4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qW1whXCtdXCguKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKlwpXD8uKiQvLCIiKXx8by5zZXApO3JldHVybiB0aGlzLl9oYXNHbG9iQ2hhcnModCkmJih0PSIuLyIpLHR9fX0pLG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWd9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSxjaG9raWRhcjp2b2lkIDAsZGVidWc6dm9pZCAwLCJscnUtY2FjaGUiOnZvaWQgMCxtaW5pbWF0Y2g6dm9pZCAwLHBhdGg6dm9pZCAwfV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbiBwKGUsdCxuKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7aWYodm9pZCAwPT09aSl7dmFyIHM9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT09cz92b2lkIDA6cChzLHQsbil9aWYoInZhbHVlImluIGkmJmkud3JpdGFibGUpcmV0dXJuIGkudmFsdWU7dmFyIGE9aS5nZXQ7aWYodm9pZCAwIT09YSlyZXR1cm4gYS5jYWxsKG4pfSxhPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGUuX19wcm90b19fPXQpfSxyPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9LG89KGUoInBhdGgiKSxlKCJtaW5pbWF0Y2giKSksbD1lKCIuLi9zaGFyZWQvdXRpbHMiKSxjPWUoIi4vdHJhY2tlZFNvdXJjZUZpbGUiKSx1PWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxoPWUoIi4vZXhlY3V0ZWRUZXN0IiksZD1lKCIuL2NvbnNvbGVNZXNzYWdlIiksZj1lKCIuL2Vycm9yRW50cnkiKSx2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyk7dmFyIG49dGhpczt0aGlzLl9maWxlSWRCeVBhdGg9ZS5maWxlSWRCeVBhdGgsdGhpcy5fYWx3YXlzU2VuZEFsbExpbmVzPWUuYWx3YXlzU2VuZEFsbExpbmVzLHRoaXMuX2ZpbGVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtYmVyT2ZBbGxSYW5nZXM9MCx0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXM9MCx0aGlzLl9jb3ZlcmFnZT17dmFsdWU6MCxsb3c6ITB9LHRoaXMuX3Rlc3RzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZmFpbGluZ1Rlc3RzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZ2xvYmFsRXJyb3JzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdGVzdFJ1bkdsb2JhbExvZ3M9W10sdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9wcm9qZWN0PWUucHJvamVjdDt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1uWyJwcm9qZWN0OiIrZS50eXBlXTt0JiZ0LmNhbGwobixlKX07dGhpcy5fcHJvamVjdC5fbW9kZWx8fHByb2Nlc3MuZW52LnF1b2trYT90aGlzLl9wcm9qZWN0Lm9uKCJtZXNzYWdlIixpKTp0aGlzLl9wcm9qZWN0Lm9uKCJtZXNzYWdlIixmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBpKGUpfSwzMCl9KX1yZXR1cm4gYSh0LGUpLGkodCx7Y29uZmlnRmlsZVBhdGg6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGwubm9ybWFsaXplUGF0aCh0aGlzLl9wcm9qZWN0LmNvbmZpZ0ZpbGVQYXRoKCkpfX0scHJvamVjdE5hbWU6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3QucHJvamVjdE5hbWUoKX19LHByb2plY3RDb25maWc6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKX19LGxvd0NvdmVyYWdlVGhyZXNob2xkOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkubG93Q292ZXJhZ2VUaHJlc2hvbGR9fSxjb3JlVmVyc2lvbjp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5jb3JlVmVyc2lvbigpfX0sZmlsZUJ5UGF0aDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsZUlkQnlQYXRoKGUpO2lmKHQpcmV0dXJuIHRoaXMuX2ZpbGVzW3RdfX0sZmlsZUJ5SWQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maWxlc1tlXX19LGZpbGVDb250ZW50QnlQYXRoOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZSk7cmV0dXJuIHQmJnRoaXMuX3Byb2plY3QucmVhZFNvdXJjZUZpbGUodC5rZXkoKSl9fSx0ZXN0c0J5UmVxdWVzdDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoZS5maWxlKXt2YXIgbj10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtuJiYoZS5saW5lfHwhbi5pc1Rlc3RGaWxlKCk/Xy5lYWNoKGUubGluZT9uLmxpbmVUZXN0cyhlLmxpbmUpOm4uY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKGUpe3QucHVzaChbZS5maWxlSWQoKV0uY29uY2F0KGUucGF0aCgpKSl9KTp0LnB1c2goW24ua2V5KCldKSl9cmV0dXJuIHR9fSx1bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0Ont2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiBfLmNoYWluKGUubGluZT90LmxpbmVSYW5nZXMoZS5saW5lKTp0LnJhbmdlcygpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNDb3ZlcmVkKCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2Uuc3RhcnRMaW5lKCksZS5zdGFydENvbHVtbigpLGUuZW5kTGluZSgpLGUuZW5kQ29sdW1uKCldfSkudmFsdWUoKX19LGxpbmVSZXBvcnRCeVJlcXVlc3Q6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpO2lmKHQpcmV0dXJuIHRoaXMuX2xpbmVSZXBvcnQodCxlLmxpbmUpfX0sbG9jYXRpb25CeVJlcXVlc3Q6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpLG49dCYmZS5saW5lJiZ0LmxpbmVDb3ZlcmluZ1Rlc3RzT3JkZXJlZEJ5RmFpbGluZ1RoZW5EYXRlKGUubGluZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0Vycm9yU291cmNlKCl8fGUuaXNPbkVycm9yUGF0aCgpfSlbMF07aWYobiYmbi5pc0ZhaWxpbmcoKXx8KG49dGhpcy5sYXRlc3RGYWlsaW5nVGVzdCgpKSxuKXtpZigiZmFpbGluZ1Rlc3QiPT09ZS50eXBlKXt2YXIgaT1uLnN0YXJ0UmFuZ2UoKTtyZXR1cm4gaT97ZmlsZTpuLmZpbGVQYXRoKCksbG9jOltpLnN0YXJ0TGluZSgpLGkuc3RhcnRDb2x1bW4oKV19Ont9fWlmKCJlcnJvclNvdXJjZSI9PT1lLnR5cGUpe3ZhciBzPV8uZmluZChuLmVycm9ycygpLGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YWNrKCkubGVuZ3RofSksYT1zLnN0YWNrKClbMF0scj1hLnJhbmdlKCksbz17fTtyZXR1cm4gby5maWxlPWEuZmlsZVBhdGgoKSxyJiYoby5sb2M9W3Iuc3RhcnRMaW5lKCksci5zdGFydENvbHVtbigpXSksb319fX0sbGF0ZXN0RmFpbGluZ1Rlc3Q6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIF8ubGFzdChfLnZhbHVlcyh0aGlzLl9mYWlsaW5nVGVzdHMpKX19LGZ1bGxUZXN0UmVzdWx0c1JlcG9ydDp7dmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fcnVuRXJyb3IpcmV0dXJuIHRoaXMuX3J1bkVycm9yO3ZhciB0PXtlcnJvcnM6dGhpcy5fbWFwRXJyb3JzKHRoaXMuX2dsb2JhbEVycm9ycyksdGltZTplfTtpZihwcm9jZXNzLmVudi5xdW9ra2Epe3QubWVzc2FnZXM9dGhpcy5fbWFwTWVzc2FnZXModGhpcy5fdGVzdFJ1bkdsb2JhbExvZ3MpO3ZhciBuPXRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKTtuJiZuLnF1b2trYSYmbi5xdW9ra2EuaW5zdGFsbFBhY2thZ2UmJl8uZWFjaCh0LmVycm9ycyxmdW5jdGlvbihlKXtpZihlJiZlLm1lc3NhZ2Upe3ZhciB0PWUubWVzc2FnZS5tYXRjaCgvQ2Fubm90IGZpbmQgbW9kdWxlICcoW14nXHMmfDtdKyknLyk7dCYmdFsxXSYmKGUubWlzc2luZ1BhY2thZ2U9bC52YWxpZFBhY2thZ2VOYW1lKHRbMV0pKX19KX1lbHNlIHQudG90YWxOdW1iZXI9Xy5zaXplKHRoaXMuX3Rlc3RzKSx0LmZhaWxpbmdOdW1iZXI9Xy5zaXplKHRoaXMuX2ZhaWxpbmdUZXN0cyksdC50ZXN0cz10aGlzLl9tYXBUZXN0cyh0aGlzLl9mYWlsaW5nVGVzdHMpLnJldmVyc2UoKS52YWx1ZSgpO3JldHVybiB0fX0sYWxsVGVzdEZpbGVzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfLmZpbHRlcih0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1Rlc3RGaWxlKCl9KX19LHN1bW1hcnk6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9Xy5zaXplKHRoaXMuX3Rlc3RzKSx0PV8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpO3JldHVybnt0b3RhbDplLHBhc3NlZDplLXQsZmFpbGVkOnQsY292ZXJhZ2U6dGhpcy5fY292ZXJhZ2V9fX0sYWxsRmlsZXM6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIF8ubWFwKHRoaXMuX2ZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybntwYXRoOmUucGF0aCgpLGlkOmUua2V5KCl9fSl9fSwicHJvamVjdDpzdGFydGluZyI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2FkZEZpbGUobmV3IGMoZSkpfSksdGhpcy5fZW1pdCgiYWxsRmlsZXMiLHtmaWxlczplLmZpbGVzfSl9fSwicHJvamVjdDpmaWxlIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuZmlsZSxpPWVbImRlbGV0ZSJdLHM9dGhpcy5maWxlQnlJZChuLmlkKTtzJiYhaSYmdGhpcy5fZW1pdCgiZmlsZUNoYW5nZWQiLHtmaWxlOm59KSxzfHxpfHwocz1uZXcgYyhuKSx0aGlzLl9hZGRGaWxlKHMpLHRoaXMuX2VtaXQoImZpbGVBZGRlZCIse2ZpbGU6bn0pKSxzJiZpJiYhZnVuY3Rpb24oKXt0Ll9kZWxldGVGaWxlKG4uaWQpO3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksaT1zLm93blRlc3RzKCk7dC5fdGVzdHNSZW1vdmVkKGkpLF8uZWFjaChpLGZ1bmN0aW9uKHQpe3JldHVybiBfLmV4dGVuZChlLHQub2Jzb2xldGUoKSl9KSxkZWxldGUgZVtuLmlkXSxzLmlzVGVzdEZpbGUoKSYmdC5fZW1pdCgidGVzdEZpbGVEZWxldGVkIix7ZmlsZTpufSksdC5fZW1pdCgiZmlsZURlbGV0ZWQiLHtmaWxlOm59KSx0Ll91cGRhdGVBZmZlY3RlZEZpbGVzKGUpLHQuX2FnZ3JlZ2F0ZUZpbGVDb3ZlcmFnZShzLCEwKSx0Ll91cGRhdGVUb3RhbENvdmVyYWdlKCkscy5kaXNwb3NlKCl9KCl9fSwicHJvamVjdDpjb25zb2xlT3V0cHV0Ijp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGQoZS5kYXRhKSxuPXQuZmlsZUlkKCk7aWYobil7dmFyIGk9dGhpcy5maWxlQnlJZChuKSxzPXQucmFuZ2UoKTtpJiZzJiZ0LnNldEZpbGUoaSl9dGhpcy5fZW1pdCgiY29uc29sZU91dHB1dCIse21lc3NhZ2U6dGhpcy5fbWFwTWVzc2FnZSh0KX0pfX0sInByb2plY3Q6dGVzdFJ1bkVycm9yIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcmVwb3J0RmFpbGVkUnVuKGUubWVzc2FnZSl9fSwicHJvamVjdDp0ZXN0UmVzdWx0cyI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1PYmplY3QuY3JlYXRlKG51bGwpLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxzPXZvaWQgMDt0aGlzLl9yZXBvcnROb3JtYWxSdW4oKSx0aGlzLl90ZXN0UnVuR2xvYmFsTG9ncz1bXSxfLmVhY2goZS50ZXN0cyxmdW5jdGlvbihpKXt2YXIgYT1uZXcgaChpKTthLmluaXQobnVsbCxlLnRzLGZ1bmN0aW9uKGUpe25bZS5pZCgpXT1lLHMhPT0hMSYmKHM/cy5pc0ZhaWxpbmcoKXx8KHM9ZS5pc0ZhaWxpbmcoKT9lOiExKTpzPWUpfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRGaWxlKHQuZmlsZUJ5SWQoZS5maWxlSWQoKSkpfSl9KSxfLmVhY2goZS5sb2csZnVuY3Rpb24oZSl7dmFyIGk9bmV3IGQoZSkscz1pLnRlc3RJZCgpO2lmKDAhPT1zKXt2YXIgYT1uW3NdO2EmJmEuYWRkQ29uc29sZU1lc3NhZ2UoaSl9dmFyIHI9aS5maWxlSWQoKTtpZihyKXt2YXIgbz10LmZpbGVCeUlkKHIpLGw9aS5yYW5nZSgpO28mJmwmJihvLnNldFJhbmdlQ29uc29sZUxvZyhpLnRleHQoKSxsKSxpLnNldEZpbGUobykpfTA9PT1zJiZwcm9jZXNzLmVudi5xdW9ra2EmJnQuX3Rlc3RSdW5HbG9iYWxMb2dzLnB1c2goaSl9KTt2YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpLHI9T2JqZWN0LmNyZWF0ZShudWxsKSxvPV8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue2NvdmVyYWdlOmUsZmlsZTp0LmZpbGVCeUlkKGUuaWQpfX0pLGw9Xy5maWx0ZXIobyxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUuaXNUZXN0RmlsZSgpLG49ZS5jb3ZlcmFnZS5jaGFuZ2VkJiYhZS5jb3ZlcmFnZS5zaW5nbGVUZXN0Q2hhbmdlZCxpPXQmJm47cmV0dXJuIGk/YVtlLmZpbGUua2V5KCldPWUuZmlsZTp0JiYocltlLmZpbGUua2V5KCldPWUuZmlsZSksaX0pO18uZWFjaChsLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmlsZTt0Ll90ZXN0c1JlbW92ZWQobi5vd25UZXN0cygpKSxfLmVhY2gobi5yZW1vdmVBbGxUZXN0cygpLGZ1bmN0aW9uKGUpe2lbZS5rZXkoKV09ZX0pfSksXy5lYWNoKG4sZnVuY3Rpb24oZSl7dmFyIG49dC5maWxlQnlJZChlLmZpbGVJZCgpKTtfLmVhY2gobi5hZGRUZXN0KGUpLGZ1bmN0aW9uKGUpe2lbZS5rZXkoKV09ZX0pLHQuX3Rlc3RBZGRlZChlKX0pLF8uZWFjaChvLGZ1bmN0aW9uKGUpe3QuX3VwZGF0ZUZpbGVSYW5nZXMoZSxuKSxpW2UuZmlsZS5rZXkoKV09ZS5maWxlfSksXy5lYWNoKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29tcGxldGVJbml0aWFsaXphdGlvbih0Ll9maWxlc0J5SWQoKSl9KTt2YXIgYz1bXTtfLmVhY2goZS5nbG9iYWxFcnJvcnMsZnVuY3Rpb24oZSl7dmFyIG49bmV3IGYoZSk7bi5pbml0KCksXy5lYWNoKG4uc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgaT10LmZpbGVCeUlkKGUuZmlsZUlkKCkpO2lmKGkpe2Uuc2V0RmlsZShpKTt2YXIgcz1pLmNsb3Nlc3RSYW5nZShlLmxpbmUoKSk7bnVsbCE9cyYmKGUuc2V0UmFuZ2Uocykscy5mYWlscyhuKSl9fSksYy5wdXNoKG4pfSksXy5lYWNoKHQuX3Rlc3RSdW5HbG9iYWxMb2dzLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSgpO3QmJmUuc2V0UmFuZ2UodC5jbG9zZXN0UmFuZ2UoZS5saW5lKCkpKX0pLHRoaXMuX3JlcG9ydEdsb2JhbEVycm9ycyhjKSx0aGlzLl91cGRhdGVBZmZlY3RlZEZpbGVzKGksZS50aW1lKSx0aGlzLl9lbWl0KCJ0ZXN0c0V4ZWN1dGVkIix7Zmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZFRlc3Q6c3x8dm9pZCAwLGFsbEFmZmVjdGVkRmlsZXM6aSxjaGFuZ2VkOmEsZXhlY3V0ZWQ6cixmdWxsUnVuOmUuZnVsbFJ1bn0pfX0sX2FkZEZpbGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGVzW2Uua2V5KCldPWUsZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2UoKSYmKGUuX25vQ292ZXJhZ2VDYWxjdWxhdGlvbj0hIV8uZmluZCh0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkuZmlsZXNXaXRoTm9Db3ZlcmFnZUNhbGN1bGF0ZWQsZnVuY3Rpb24odCl7cmV0dXJuIG8oZS5wYXRoKCksdCl9KSl9fSxfZGVsZXRlRmlsZTp7dmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX2ZpbGVzW2VdfX0sX2xpbmVSZXBvcnQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJue3Rlc3RzOnRoaXMuX21hcFRlc3RzKGUubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGUodCkpfX19LF9yZXBvcnRGYWlsZWRSdW46e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcnVuRXJyb3I9ZX19LF9yZXBvcnROb3JtYWxSdW46e3ZhbHVlOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX3J1bkVycm9yfX0sX3JlcG9ydEdsb2JhbEVycm9yczp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5fY2hhbmdlZD10aGlzLl9jaGFuZ2VkfHxfLnNpemUodGhpcy5fZ2xvYmFsRXJyb3JzKSE9PWUubGVuZ3RoLF8uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBpPWUua2V5KCk7ZGVsZXRlIHQuX2dsb2JhbEVycm9yc1tpXSxuW2ldPWV9KSx0aGlzLl9jaGFuZ2VkPXRoaXMuX2NoYW5nZWR8fCFfLmlzRW1wdHkodGhpcy5fZ2xvYmFsRXJyb3JzKSx0aGlzLl9nbG9iYWxFcnJvcnM9bn19LF90ZXN0c1JlbW92ZWQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPSEhdC5fZmFpbGluZ1Rlc3RzW25dO2RlbGV0ZSB0Ll90ZXN0c1tuXSxkZWxldGUgdC5fZmFpbGluZ1Rlc3RzW25dLHQuX2NoYW5nZWQ9aXx8dC5fY2hhbmdlZH0pfX0sX3Rlc3RBZGRlZDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKSxuPXRoaXMuX3Rlc3RzW3RdO3RoaXMuX3Rlc3RzW3RdPWUsZGVsZXRlIHRoaXMuX2ZhaWxpbmdUZXN0c1t0XSxlLmlzRmFpbGluZygpJiYodGhpcy5fZmFpbGluZ1Rlc3RzW3RdPWUpLHRoaXMuX2NoYW5nZWQ9IW58fG4mJm4uaXNGYWlsaW5nKCl8fGUuaXNGYWlsaW5nKCl8fHRoaXMuX2NoYW5nZWR9fSxfZmlsZXNCeUlkOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlc319LF91cGRhdGVBZmZlY3RlZEZpbGVzOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT1PYmplY3QuY3JlYXRlKG51bGwpLHM9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7bi5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGUpJiZzLnB1c2goZSk7dmFyIHQ9ZS51cGRhdGVEb2N1bWVudCgpO3QmJihpW2UucGF0aCgpXT1uLl9hbHdheXNTZW5kQWxsTGluZXM/ZS5hbGxMaW5lcygpOnQpfSksXy5pc0VtcHR5KGkpfHx0aGlzLl9lbWl0KCJkb2N1bWVudHNVcGRhdGVkIix7ZG9jdW1lbnRzOml9KTt2YXIgYT10aGlzLl9jaGFuZ2VkO2EmJmRlbGV0ZSB0aGlzLl9jaGFuZ2VkLHMubGVuZ3RoJiZ0aGlzLl91cGRhdGVUb3RhbENvdmVyYWdlKCksdGhpcy5fZW1pdCgic3RhdHNNYXliZUNoYW5nZWQiLHt0ZXN0UmVzdWx0c0NoYW5nZWQ6YSxmaWxlc1dpdGhDaGFuZ2VkQ292ZXJhZ2U6cyx0aW1lOnR9KX19LF9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2U6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZihlLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpKXt2YXIgaT10PzA6ZS5udW1iZXJPZkFsbFJhbmdlcygpLHM9dD8wOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCksYT0wLHI9MDtpZihlLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGU/KGE9aS1lLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGUubnVtYmVyT2ZBbGxSYW5nZXMscj1zLWUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMpOihhPWkscj1zKSxlLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGU9e251bWJlck9mQWxsUmFuZ2VzOmksbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzOnN9LG4uX251bWJlck9mQWxsUmFuZ2VzKz1hLG4uX251bWJlck9mQ292ZXJlZFJhbmdlcys9ciwwIT09YXx8MCE9PXIpcmV0dXJuITB9fX0sX3VwZGF0ZVRvdGFsQ292ZXJhZ2U6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL3RoaXMuX251bWJlck9mQWxsUmFuZ2VzKS8xMDB8fDA7dGhpcy5fY292ZXJhZ2U9e3ZhbHVlOmUsbG93OmU8dGhpcy5sb3dDb3ZlcmFnZVRocmVzaG9sZCgpfX19LF91cGRhdGVGaWxlUmFuZ2VzOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9ZS5maWxlLHM9ZS5jb3ZlcmFnZTtfLmVhY2gocy5yYW5nZXMsZnVuY3Rpb24oZSl7dmFyIHM9bmV3IHUoZSk7cy5pbml0KGksdCkscy5zZXRDb25zb2xlTG9nKGkucmFuZ2VDb25zb2xlTG9nKHMpKSxuLnB1c2gocyl9KSxpLnNldFJhbmdlcyhuLHMuY2hhbmdlZCxlLmNvdmVyYWdlLnNpbmdsZVRlc3RDaGFuZ2VkKSxpLmNsZWFyUmFuZ2VDb25zb2xlTG9nKCl9fSxfbWFwVGVzdHM6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8oZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntmYWlsaW5nOmUuaXNGYWlsaW5nKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5zdGFydFJhbmdlKCkpLGZpbGU6ZS5maWxlUGF0aCgpLHRpbWU6ZS50aW1lKCksZXJyb3JzOnQuX21hcEVycm9ycyhlLmVycm9ycygpKSxwYXRoOmUucGF0aCgpLG1lc3NhZ2VzOnQuX21hcE1lc3NhZ2VzKGUuY29uc29sZU1lc3NhZ2VzKCkpfX0pfX0sX21hcE1lc3NhZ2VzOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9tYXBNZXNzYWdlKGUpfSl9fSxfbWFwTWVzc2FnZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZS50eXBlKCksdGV4dDplLnRleHQoKSxmaWxlOmUuZmlsZSgpJiZlLmZpbGUoKS5wYXRoKCksbG9jOnRoaXMuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksCmNvbnRleHQ6ZS5jb250ZXh0KCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpLGFjdHVhbDplLmFjdHVhbCgpfX19LF9tYXBFcnJvcnM6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlKCksc3RhY2s6Xy5tYXAoZS5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybntmaWxlOmUuZmlsZVBhdGgoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnJhbmdlKCkpfHxlLmxpbmUoKSxjb250ZXh0OmUuY29udGV4dCgpfX0pLGV4cGVjdGVkOmUuZXhwZWN0ZWQoKSxhY3R1YWw6ZS5hY3R1YWwoKX19KX19LF9yYW5nZVRvTG9jOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5zdGFydExpbmUmJmUuc3RhcnRMaW5lKCkrIjoiK2Uuc3RhcnRDb2x1bW4oKXx8dm9pZCAwfX0sX2VtaXQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZCh7dHlwZTplfSx0KSl9fX0pLHR9KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXZ9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSwiLi9jb25zb2xlTWVzc2FnZSI6MywiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9lcnJvckVudHJ5Ijo3LCIuL2V4ZWN1dGVkVGVzdCI6OCwiLi90cmFja2VkU291cmNlRmlsZSI6MTMsbWluaW1hdGNoOnZvaWQgMCxwYXRoOnZvaWQgMH1dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2kuY29uZmlndXJhYmxlPSEwLGkudmFsdWUmJihpLndyaXRhYmxlPSEwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0sYT1lKCJkZ3JhbSIpLHI9ZSgib3MiKSxvPWUoIi4vLi4vLi4vdXRpbHMiKSxsPW8ucmFuZG9tSWQoKSxjPW4ub3B0aW9ucz17dHRsOjEyOCxhZGRyZXNzOiIyMzAuMC4wLjMiLHBvcnQ6NTYzOTh9LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cyh0aGlzLGUpO3RyeXt2YXIgdD10aGlzO3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9zZW5kZXI9YS5jcmVhdGVTb2NrZXQoInVkcDQiKSx0aGlzLl9zZW5kZXIuYmluZChmdW5jdGlvbigpe3QuX3NlbmRlci5zZXRCcm9hZGNhc3QoITApLHQuX3NlbmRlci5zZXRNdWx0aWNhc3RUVEwoYy50dGwpfSksdGhpcy5fc2VuZGVyLm9uKCJlcnJvciIsZnVuY3Rpb24oKXt0cnl7dC5fc2VuZGVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0pLHRoaXMuX3JlY2VpdmVyPWEuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fcmVjZWl2ZXIub24oImxpc3RlbmluZyIsZnVuY3Rpb24oKXt0cnl7dC5fcmVjZWl2ZXIuc2V0QnJvYWRjYXN0KCEwKSx0Ll9yZWNlaXZlci5zZXRNdWx0aWNhc3RUVEwoYy50dGwpLHQuX3JlY2VpdmVyLmFkZE1lbWJlcnNoaXAoYy5hZGRyZXNzKX1jYXRjaChlKXt9fSksdGhpcy5fcmVjZWl2ZXIub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3RyeXtlPUpTT04ucGFyc2UoZS50b1N0cmluZygidXRmOCIpKSxlLmV2ZW50JiZlLnNvdXJjZSYmZS5zb3VyY2VJZCYmZS5zb3VyY2UhPT10Ll9zb3VyY2UoKSYmZS5zb3VyY2VJZCE9PWwmJl8uZWFjaCh0Ll9saXN0ZW5lcnNbZS5ldmVudF0sZnVuY3Rpb24odCl7dC5hcHBseShudWxsLFtlLmRhdGEsZS5zb3VyY2VdKX0pfWNhdGNoKG4pe319KSx0aGlzLl9yZWNlaXZlci5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7dHJ5e3QuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0pLHRoaXMuX3JlY2VpdmVyLmJpbmQoYy5wb3J0KX1jYXRjaChuKXt9fXJldHVybiBpKGUse29uOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVyc1tlXXx8KHRoaXMuX2xpc3RlbmVyc1tlXT1bXSksdGhpcy5fbGlzdGVuZXJzW2VdLnB1c2godCkpfX0sZW1pdDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49bmV3IEJ1ZmZlcihKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6ZSxkYXRhOnQsc291cmNlOnRoaXMuX3NvdXJjZSgpLHNvdXJjZUlkOmx9KSk7dGhpcy5fc2VuZGVyLnNlbmQobiwwLG4ubGVuZ3RoLGMucG9ydCxjLmFkZHJlc3MpfWNhdGNoKGkpe319fSxfc291cmNlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiByLmhvc3RuYW1lKCkrIiAoIitlLl9nZXRJUHY0QWRkcmVzcygpKyIpIn19LHN0b3A6e3ZhbHVlOmZ1bmN0aW9uKCl7dHJ5e3RoaXMuX3NlbmRlci5jbG9zZSgpfWNhdGNoKGUpe310cnl7dGhpcy5fcmVjZWl2ZXIuY2xvc2UoKX1jYXRjaChlKXt9fX19LHtfZ2V0SVB2NEFkZHJlc3M6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIF8uZWFjaChyLm5ldHdvcmtJbnRlcmZhY2VzKCksZnVuY3Rpb24odCl7aWYoIWUpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoIklQdjQiPT09aS5mYW1pbHkmJiIxMjcuMC4wLjEiIT09aS5hZGRyZXNzJiYhaS5pbnRlcm5hbClyZXR1cm4gdm9pZChlPWkuYWRkcmVzcyl9fSksZXx8IjAuMC4wLjAifX19KSxlfSgpO3QuZXhwb3J0cz1uZXcgdX0seyIuLy4uLy4uL3V0aWxzIjoxNyxkZ3JhbTp2b2lkIDAsb3M6dm9pZCAwfV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKHModGhpcyxlKSxhcmd1bWVudHMubGVuZ3RoPjEpdGhpcy5fZmlsZUlkPWFyZ3VtZW50c1swXSx0aGlzLl9saW5lPWFyZ3VtZW50c1sxXSx0aGlzLl9jb250ZXh0PWFyZ3VtZW50c1syXTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXS5zcGxpdCgiXyIpO3RoaXMuX2ZpbGVJZD1wYXJzZUludCh0WzBdLDEwKSx0aGlzLl9saW5lPXBhcnNlSW50KHRbMV0sMTApfX1yZXR1cm4gaShlLHtrZXk6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fbGluZX19LGZpbGVJZDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfX0sbGluZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZX19LGNvbnRleHQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9fSxzZXRGaWxlOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9maWxlPWV9fSxmaWxlUGF0aDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZSYmdGhpcy5fZmlsZS5wYXRoKCl8fHRoaXMuX2ZpbGVJZCYmfnRoaXMuX2ZpbGVJZC5pbmRleE9mKCIuIikmJnRoaXMuX2ZpbGVJZH19LHNldFJhbmdlOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfX0scmFuZ2U6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlfX19KSxlfSgpO3QuZXhwb3J0cz1hfSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSxhPWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxyPWUoIi4vZG9jdW1lbnRJbkVkaXRvciIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ModGhpcyxlKSx0aGlzLl9kYXRhPXQsdGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbmV3UmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fYWZmZWN0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9vdXRkYXRlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2xpbmVUb1JhbmdlTWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcz0wfXJldHVybiBpKGUse3NldFJhbmdlQ29uc29sZUxvZzp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj04MTkyLGk9YS5yYW5nZUtleSh0KSxzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tpXTtzfHwocz10aGlzLl9yYW5nZUNvbnNvbGVMb2dbaV09W10pO3ZhciByPWUubGVuZ3RoPm4/Ii4uLiI6IiI7ZT1lLnN1YnN0cigwLG4pLHMucHVzaChlK3IpfX0scmFuZ2VzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9fSxpbnN0cnVtZW50ZWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY292ZXJhYmxlfX0sdXBkYXRlRG9jdW1lbnQ6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9Xy5leHRlbmQoe30sdGhpcy5fbmV3UmFuZ2VzLHRoaXMuX2FmZmVjdGVkUmFuZ2VzLHRoaXMuX291dGRhdGVkUmFuZ2VzKSx0PXRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLG49dGhpcy5faW52YWxpZGF0ZURvY3VtZW50O2lmKGRlbGV0ZSB0aGlzLl9hbGxSYW5nZXNSZWNlaXZlZCxkZWxldGUgdGhpcy5faW52YWxpZGF0ZURvY3VtZW50LF8uZWFjaCh0aGlzLl9vdXRkYXRlZFJhbmdlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZG9jdW1lbnRJbkVkaXRvcil7dmFyIGk9bj90aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLCEwLCEwKTp0aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShlLHQsITEpO3JldHVybiBpLmZ1bGxVcGRhdGU9bixpfX19LGFsbExpbmVzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IuYWxsTGluZXMoKTp2b2lkIDB9fSxvcGVuZWRJbkVkaXRvcjp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yfHwodGhpcy5fZG9jdW1lbnRJbkVkaXRvcj1uZXcgcix0aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLCExLCEwKSl9fSxjbG9zZWRJbkFsbEVkaXRvcnM6e3ZhbHVlOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2RvY3VtZW50SW5FZGl0b3J9fSxpc09wZW5lZEluRWRpdG9yOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yfX0sc2hpZnREb2N1bWVudExpbmVzOnt2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fZG9jdW1lbnRJbkVkaXRvciYmdGhpcy5fZG9jdW1lbnRJbkVkaXRvci5zaGlmdExpbmVzKGUsdCxuKX19LGludmFsaWRhdGVEb2N1bWVudExpbmVzOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiZ0aGlzLl9kb2N1bWVudEluRWRpdG9yLmludmFsaWRhdGVMaW5lcyhlKX19LGludmFsaWRhdGVEb2N1bWVudDp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiYodGhpcy5faW52YWxpZGF0ZURvY3VtZW50PSEwKX19LGhhc1ZhbGlkRG9jdW1lbnQ6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2ludmFsaWRhdGVEb2N1bWVudH19LGxpbmVUZXN0czp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NvdmVyaW5nVGVzdHMoZSl9fSxsaW5lUmFuZ2VzOnt2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgdD10aGlzLl9kb2N1bWVudEluRWRpdG9yLmxpbmUoZSk7aWYodClyZXR1cm4gdC5yYW5nZXMoKX19fSxjb3ZlcmluZ1Rlc3RzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3ZlcmluZ1Rlc3RzKCl9fSxsaW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZTp7dmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5jaGFpbih0aGlzLl9jb3ZlcmluZ1Rlc3RzKGUsdCkpLnNvcnRCeShmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0ZhaWxpbmcoKX0pLnNvcnRCeShmdW5jdGlvbihlKXtyZXR1cm4tZS50cygpfSkudmFsdWUoKX19LF9jb3ZlcmluZ1Rlc3RzOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMDtpZihlKXtpZighdGhpcy5fZG9jdW1lbnRJbkVkaXRvcilyZXR1cm5bXTtpZihuPXRoaXMuX2RvY3VtZW50SW5FZGl0b3IubGluZShlKSwhbilyZXR1cm5bXX12YXIgaT1uP24ucmFuZ2VzKCk6dGhpcy5fcmFuZ2VzO3JldHVybiB0JiYoaT1fLmZpbHRlcihpLHQpKSxfLnJlZHVjZShpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8uZWFjaCh0LmNvdmVyaW5nVGVzdHMoKSxmdW5jdGlvbih0KXtlW3Qua2V5KCldPXR9KSxlfSx7fSl9fSxkaXNwb3NlOnt2YWx1ZTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9kb2N1bWVudEluRWRpdG9yLF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzcG9zZSgpfSksZGVsZXRlIHRoaXMuX3JhbmdlcyxkZWxldGUgdGhpcy5fdGVzdE1hcH19LHJhbmdlQ29uc29sZUxvZzp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JhbmdlQ29uc29sZUxvZ1tlLmtleSgpXX19LGNsZWFyUmFuZ2VDb25zb2xlTG9nOnt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3JhbmdlQ29uc29sZUxvZz1PYmplY3QuY3JlYXRlKG51bGwpfX0sa2V5Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmlkfX0scGF0aDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5wYXRofX0sYWRkVGVzdDp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKSxuPXRoaXMuX3Rlc3RNYXBbZS5rZXkoKV07cmV0dXJuIG4mJl8uZWFjaChuLm9ic29sZXRlKCksZnVuY3Rpb24oZSl7dFtlLmtleSgpXT1lfSksdGhpcy5fdGVzdE1hcFtlLmtleSgpXT1lLGUuc2V0VGVzdEZpbGUodGhpcyksdH19LHJhbmdlQ292ZXJhZ2VDaGFuZ2VkOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2FmZmVjdGVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIG49ZS5pc0NvdmVyZWQoKTt0IT09biYmKHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcys9bj8xOi0xKX19LGlzVGVzdEZpbGU6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEudGVzdH19LGNvdmVyYWdlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpP01hdGgucm91bmQoMWU0KnRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcy9fLnNpemUodGhpcy5fcmFuZ2VzKSkvMTAwOnZvaWQgMH19LGhhc1JlcG9ydGFibGVDb3ZlcmFnZTp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1Rlc3RGaWxlKCkmJnRoaXMuaW5zdHJ1bWVudGVkKCkmJiF0aGlzLl9ub0NvdmVyYWdlQ2FsY3VsYXRpb259fSxudW1iZXJPZkNvdmVyZWRSYW5nZXM6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlc319LG51bWJlck9mQWxsUmFuZ2VzOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfLnNpemUodGhpcy5fcmFuZ2VzKX19LHNldFJhbmdlczp7dmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQ9dCx0JiZ0aGlzLl9yZWJ1aWxkUmFuZ2VNYXAoKTt2YXIgcz1PYmplY3QuY3JlYXRlKG51bGwpO18uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBhPWUua2V5KCkscj1pLl9yYW5nZXNbYV07aWYocil7dmFyIG89ci5pc0NvdmVyZWQoKSxsPWUuaXNDb3ZlcmVkKCk7dHx8bz09PWx8fChpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPWw/MTotMSksci51cGRhdGVGcm9tKGUsdCxuKSxzW2FdPXIsaS5fYWZmZWN0ZWRSYW5nZXNbYV09cn1lbHNlIGkuX3Jhbmdlc1thXT1lLGkuX25ld1Jhbmdlc1thXT1lLGUuYXR0YWNoZWRUb1NvdXJjZUZpbGUoKSxlLmlzQ292ZXJlZCgpJiYhdCYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKyt9KSx0JiYoaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goXy52YWx1ZXModGhpcy5fcmFuZ2VzKSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2lmKGkuX25ld1Jhbmdlc1t0XXx8c1t0XSl7ZS5pc0NvdmVyZWQoKSYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKys7Zm9yKHZhciBuPWUuc3RhcnRMaW5lKCk7bjw9ZS5lbmRMaW5lKCk7bisrKXt2YXIgYT1pLl9saW5lVG9SYW5nZU1hcFtuXTsoIWF8fGUuaXNJbnNpZGVPZihhKSkmJihpLl9saW5lVG9SYW5nZU1hcFtuXT1lKX19ZWxzZSBpLl9vdXRkYXRlZFJhbmdlc1t0XT1lLGRlbGV0ZSBpLl9yYW5nZXNbdF19KSl9fSxvd25UZXN0czp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gXy52YWx1ZXModGhpcy5fdGVzdE1hcCl9fSxyZW1vdmVBbGxUZXN0czp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBfLmVhY2godGhpcy5vd25UZXN0cygpLGZ1bmN0aW9uKHQpe18uZWFjaCh0Lm9ic29sZXRlKCksZnVuY3Rpb24odCl7ZVt0LmtleSgpXT10fSl9KSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksZX19LGNsb3Nlc3RSYW5nZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVUb1JhbmdlTWFwW2VdfX0sX3JlYnVpbGRSYW5nZU1hcDp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fcmFuZ2VzO3RoaXMuX3Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBuPXQua2V5KCksaT1lLl9yYW5nZXNbbl07ZS5fcmFuZ2VzW25dPXQsaSYmaS5kaXNwb3NlKCl9KX19fSksZX0oKTt0LmV4cG9ydHM9b30seyIuL2NvdmVyYWJsZVJhbmdlIjo0LCIuL2RvY3VtZW50SW5FZGl0b3IiOjV9XSwxNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17bGluZVN0YXRlOntub3RDb3ZlcmVkOjEsZnVsbHlDb3ZlcmVkOjIscGFydGlhbGx5Q292ZXJlZDozLGVycm9yU291cmNlOjQsZXJyb3JQYXRoOjV9fX0se31dLDE1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtub3JtYWxpemVQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiJ3aW4zMiI9PT1wcm9jZXNzLnBsYXRmb3JtJiZlP2UucmVwbGFjZSgvXFwvZywiLyIpOmV9LHBhcnNlS2V5OmZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49bmV3IEJ1ZmZlcihlLCJiYXNlNjQiKS50b1N0cmluZygpLnNwbGl0KCJcbiIpO3QubGljZW5zZWVOYW1lPW5bMF0sdC5saWNlbnNlVGFncz1uWzFdO3ZhciBpPXQubGljZW5zZVRhZ3Muc3BsaXQoIiwiKTtyZXR1cm4gaS5sZW5ndGg+PTEmJih0LmxpY2Vuc2VlRW1haWw9aVswXSksaS5sZW5ndGg+PTImJih0LmxpY2Vuc2VkUHJvZHVjdD1pWzFdKSx0LmV4cGlyYXRpb25EYXRlU3RyaW5nPW5bMl0sdC5saWNlbnNlU2lnbmF0dXJlPW5bM10sdH0sZm9ybWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgvXHsoWzAtOWEtekEtWl9dKylcfS9nLGZ1bmN0aW9uKG4saSxzKXt2YXIgYTtyZXR1cm4ieyI9PT1lW3MtMV0mJiJ9Ij09PWVbcytuLmxlbmd0aF0/aTooYT10Lmhhc093blByb3BlcnR5KGkpP3RbaV06bnVsbCxudWxsPT09YXx8dm9pZCAwPT09YT8iIjphKX0pfSx2YWxpZFBhY2thZ2VOYW1lOmZ1bmN0aW9uKGUpe2lmKGUmJiFlLm1hdGNoKC9eXC4vKSYmIWUubWF0Y2goL15fLykmJiEoZS5sZW5ndGg+MjE0fHxlLnRvTG93ZXJDYXNlKCkhPT1lfHwvW34nISgpKl0vLnRlc3QoZS5zcGxpdCgiLyIpLnNsaWNlKC0xKVswXSkpKXtpZihlbmNvZGVVUklDb21wb25lbnQoZSk9PT1lKXJldHVybiBlO3ZhciB0PWUubWF0Y2goL14oPzpAKFteXC9dKz8pW1wvXSk/KFteXC9dKz8pJC8pO2lmKHQpe3ZhciBuPXRbMV0saT10WzJdO2lmKGVuY29kZVVSSUNvbXBvbmVudChuKT09PW4mJmVuY29kZVVSSUNvbXBvbmVudChpKT09PWkpcmV0dXJuIGV9fX19fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl07aS5jb25maWd1cmFibGU9ITAsaS52YWx1ZSYmKGkud3JpdGFibGU9ITApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1mdW5jdGlvbiBtKGUsdCxuKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7aWYodm9pZCAwPT09aSl7dmFyIHM9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT09cz92b2lkIDA6bShzLHQsbil9aWYoInZhbHVlImluIGkmJmkud3JpdGFibGUpcmV0dXJuIGkudmFsdWU7dmFyIGE9aS5nZXQ7aWYodm9pZCAwIT09YSlyZXR1cm4gYS5jYWxsKG4pfSxhPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGUuX19wcm90b19fPXQpfSxyPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9LG89ZSgibmV0IiksbD1lKCJodHRwIiksYz1lKCJ1cmwiKSx1PWUoIndzIikuU2VydmVyLGg9ZSgiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiKSxkPXZvaWQgMCxmPVs1MTIzNSw1MTIzNiw1MTIzNyw1MTIzOCw1MTIzOSw1MTI0MCw1MTI0MSw1MTI0Miw1MTI0Myw1MTI0NCw1Mjc0Miw1Mjc0Myw1Mjc0NCw1Mjc0NSw1Mjc0Niw1Mjc0Nyw1Mjc0OCw1Mjc0OSw1Mjc1MCw1Mjc1MSw1MzU3OCw1MzU3OSw1MzU4MCw1MzU4MSw1MzU4Miw1MzU4Myw1MzU4NCw1MzU4NSw1MzU4Niw1MzU4N10sdj01MTI0NSxwPSc8IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9ImVuIj5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij5cbiAgICA8bGluayBpZD0iZmF2aWNvbiIgcmVsPSJpY29uIiBocmVmPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvIiB0eXBlPSJpbWFnZS94LWljb24iLz5cbiAgICA8bGluayBpZD0ic2hvcnRjdXQiIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljbyIgdHlwZT0iaW1hZ2UveC1pY29uIi8+XG4gICAgPHN0eWxlPlxuICAgICAgICBodG1sLFxuICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5IHN0eWxlPSJtYXJnaW46MHB4O3BhZGRpbmc6MHB4O292ZXJmbG93OmhpZGRlbjsiPlxuPHNjcmlwdD5cbiAgdHJ5IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcJ21lc3NhZ2VcJywgZnVuY3Rpb24gKG0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChtLmRhdGEudGl0bGUpIHtcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IG0uZGF0YS50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobS5kYXRhLnN0YXR1cykge1xuICAgICAgICAgIGlmIChtLmRhdGEuc3RhdHVzLnBhc3NpbmcpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnZmF2aWNvblwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljb1wnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2hvcnRjdXRcJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY29cJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnZmF2aWNvblwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLWFsdC5pY29cJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ3Nob3J0Y3V0XCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24tYWx0Lmljb1wnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG48L3NjcmlwdD5cbjxpZnJhbWUgc3JjPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwIiBmcmFtZWJvcmRlcj0iMCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIj48L2lmcmFtZT5cbjwvYm9keT5cbjwvaHRtbD5cbicsZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKHQpe3IodGhpcyxuKSxzKE9iamVjdC5nZXRQcm90b3R5cGVPZihuLnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBpPXRoaXM7dGhpcy5fZmluZEZyZWVQb3J0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaS5fc3RhcnQoZSx0KX0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBzdGFydCB3YWxsYWJ5IGFwcCBzZXJ2aWNlOiAiKyhlJiZlLm1lc3NhZ2UpKX0pLGQ9ZSgiZGVidWciKSgid2FsbGFieTp1aVNlcnZpY2UiKSxpLl9jb25uZWN0aW9ucz1bXSxpLl9vcGVuZWRGaWxlcz17fX1yZXR1cm4gYShuLHQpLGkobix7InVpOnN0YXJ0Ijp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9zZW5kKF8uZXh0ZW5kKHt0eXBlOiJ1aTpzdW1tYXJ5In0sdGhpcy5fbW9kZWwuc3VtbWFyeSgpKSx0KTt2YXIgbj10aGlzLl9tb2RlbC5hbGxGaWxlcygpO18uaXNFbXB0eShuKXx8dGhpcy5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKG4sdCl9fSwidWk6bmF2aWdhdGUiOnt2YWx1ZTpmdW5jdGlvbihlKXtlLmxpbmU9cGFyc2VJbnQoZS5saW5lLDEwKSxlLmNvbHVtbj1wYXJzZUludChlLmNvbHVtbiwxMCksXy5pc05hTihlLmxpbmUpJiYoZS5saW5lPTEpLF8uaXNOYU4oZS5jb2x1bW4pJiZkZWxldGUgZS5jb2x1bW4sdGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZChlLHt0eXBlOiJuYXZpZ2F0aW9uUmVxdWVzdGVkIn0pKX19LCJ1aTpydW5UZXN0cyI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX21vZGVsLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czplLnRlc3RzfSl9fSwidWk6b3BlbmVkSW5FZGl0b3IiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdP3RoaXMuX29wZW5lZEZpbGVzW2UucGF0aF0rKzp0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdPTF9fSwidWk6Y2xvc2VkSW5FZGl0b3IiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdJiZ0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdLS19fSwidWk6Y29kZVJlcXVlc3RlZCI6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXRoaXMuX21vZGVsLmZpbGVDb250ZW50QnlQYXRoKGUucGF0aCk7aSYmaS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBzPW5ldyBoLGE9bi5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpLHI9dm9pZCAwLG89W10sbD1bXTthJiZhLmluc3RydW1lbnRlZCgpJiYocy51cGRhdGUoXy52YWx1ZXMoYS5yYW5nZXMoKSksITEsITApLGw9cy5hbGxMaW5lcygpLmxpbmVzfHxbXSxvPW4uX21vZGVsLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3Qoe2ZpbGU6ZS5wYXRofSl8fFtdLHI9bi5fcmVwb3J0RmlsZUNvdmVyYWdlKGEpKSxuLl9zZW5kKHt0eXBlOiJ1aTpjb2RlIixjb3JyZWxhdGlvbklkOmUuY29ycmVsYXRpb25JZCxjb2RlOmkudG9TdHJpbmcoKSxsaW5lczpsLHVuY292ZXJlZFJlZ2lvbnM6byxjb3ZlcmFnZTpyfSx0KX0pfX0sInVpOnRlc3RzOnJlc3VsdHNSZXF1ZXN0ZWQiOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMCx0aGlzLl9zZW5kVGVzdFJlc3VsdHModm9pZCAwLHQpfX0sInVpOnRlc3RzOnJlc3VsdHNBYmFuZG9uZWQiOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMX19LCJtb2RlbDp0ZXN0RmlsZURlbGV0ZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbihuKXtuLl9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHMmJnQuX3NlbmQoe3R5cGU6InVpOnRlc3RzOnNvbWVSZXN1bHRzVXBkYXRlZCIsZmlsZXM6W3twYXRoOmUuZmlsZS5wYXRoLGFjdGlvbjoiZGVsZXRlZCJ9XX0sbil9KX19LCJtb2RlbDphbGxGaWxlcyI6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRBbGxGaWxlcyYmdC5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLGlkOmUuaWR9fSksbil9KX19LCJtb2RlbDpmaWxlQWRkZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImFkZGVkIixwYXRoOmUuZmlsZS5wYXRoLGlkOmUuZmlsZS5pZCx0ZXN0OmUuZmlsZS50ZXN0fHx2b2lkIDB9XX0pfX0sIm1vZGVsOmZpbGVDaGFuZ2VkIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOlt7YWN0aW9uOiJjaGFuZ2VkIixwYXRoOmUuZmlsZS5wYXRoLGlkOmUuZmlsZS5pZH1dfSl9fSwibW9kZWw6ZmlsZURlbGV0ZWQiOnt2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImRlbGV0ZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkfV19KX19LCJtb2RlbDp0ZXN0c0V4ZWN1dGVkIjp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXM7dGhpcy5fc2VuZChfLmV4dGVuZCh7dHlwZToidWk6c3VtbWFyeSJ9LHRoaXMuX21vZGVsLnN1bW1hcnkoKSkpLF8uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbih0KXt0Ll9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHMmJm4uX3NlbmRUZXN0UmVzdWx0cyhlLHQpfSksXy5pc0VtcHR5KGUuYWxsQWZmZWN0ZWRGaWxlcyl8fCFmdW5jdGlvbigpe3ZhciBpPVtdLHM9Xy5yZWR1Y2UoZS5hbGxBZmZlY3RlZEZpbGVzLGZ1bmN0aW9uKGUsdCl7dmFyIHM9bi5fcmVwb3J0RmlsZUNvdmVyYWdlKHQpO3JldHVybiBzJiZzLnZhbHVlQ2hhbmdlZCYmKGRlbGV0ZSBzLnZhbHVlQ2hhbmdlZCxlW3Qua2V5KCldPXMpLG4uX29wZW5lZEZpbGVzW3QucGF0aCgpXSYmaS5wdXNoKHthY3Rpb246ImFmZmVjdGVkIixwYXRoOnQucGF0aCgpLGlkOnQua2V5KCksdGVzdDp0LmlzVGVzdEZpbGUoKXx8dm9pZCAwfSksZX0se30pO18uaXNFbXB0eShzKXx8dC5fc2VuZCh7dHlwZToidWk6Y292ZXJhZ2VDaGFuZ2VkIixjaGFuZ2VzOnN9KSxfLmlzRW1wdHkoaSl8fHQuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczppfSl9KCl9fSxfcmVwb3J0RmlsZUNvdmVyYWdlOnt2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD12b2lkIDAsbj1lLmNvdmVyYWdlKCk7cmV0dXJuIG4+PTAmJih0PXt2YWx1ZTpuLGxvdzpuPHRoaXMuX21vZGVsLmxvd0NvdmVyYWdlVGhyZXNob2xkKCkscmFuZ2VzOntjb3ZlcmVkOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCksYWxsOmUubnVtYmVyT2ZBbGxSYW5nZXMoKX0sdmFsdWVDaGFuZ2VkOmUuX2xhdGVzdFJlcG9ydGVkQ292ZXJhZ2VWYWx1ZSE9PW58fHZvaWQgMH0sZS5fbGF0ZXN0UmVwb3J0ZWRDb3ZlcmFnZVZhbHVlPW4pLHR9fX0sX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZTp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3QuX2FsbG93ZWRUb1NlbmRBbGxGaWxlcz0hMSx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5fbW9kZWwuZmlsZUJ5SWQoZS5pZCk7cmV0dXJue2FjdGlvbjoiYWRkZWQiLHBhdGg6ZS5wYXRoLGlkOmUuaWQsdGVzdDp0JiZ0LmlzVGVzdEZpbGUoKXx8dm9pZCAwLGNvdmVyYWdlOm4uX3JlcG9ydEZpbGVDb3ZlcmFnZSh0KX19KX0sdCl9fSxfc2VuZFRlc3RSZXN1bHRzOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMCxpPXZvaWQgMCxzPXZvaWQgMCxhPSJzb21lUmVzdWx0c1VwZGF0ZWQiO2U/KGUuZnVsbFJ1biYmKGE9ImFsbFJlc3VsdHNVcGRhdGVkIiksbj1lLmNoYW5nZWQsaT1lLmV4ZWN1dGVkLHM9ZS5maXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkVGVzdCk6KGE9ImFsbFJlc3VsdHNVcGRhdGVkIixuPXRoaXMuX21vZGVsLmFsbFRlc3RGaWxlcygpKSx0aGlzLl9zZW5kKHt0eXBlOiJ1aTp0ZXN0czoiK2EsZmlsZXM6dGhpcy5fY3JlYXRlVGVzdFJlc3VsdHMobixzLCJjaGFuZ2VkIikuY29uY2F0KHRoaXMuX2NyZWF0ZVRlc3RSZXN1bHRzKGkscywiZXhlY3V0ZWQiKSl9LHQpfX0sX2NyZWF0ZVRlc3RSZXN1bHRzOnt2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztyZXR1cm4gXy5tYXAoZSxmdW5jdGlvbihlKXt2YXIgcz17fTtyZXR1cm4gXy5lYWNoKGUub3duVGVzdHMoKSxmdW5jdGlvbihlKXt2YXIgbj1lLnBhdGgoKSxhPV8ubGFzdChuKSxyPXM7bi5sZW5ndGg+MSYmXy5lYWNoKF8udGFrZShuLG4ubGVuZ3RoLTEpLGZ1bmN0aW9uKGUpe3ZhciB0PXJbZV07dHx8KHQ9e30scltlXT10KSxyPXR9KTt2YXIgbz1fLm1hcChlLmNvdmVyZWRGaWxlcygpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleSgpfSk7Xy5pc0VtcHR5KG8pJiYobz12b2lkIDApLHJbYV09e2lzVGVzdDohMCxmaXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkOmU9PT10fHx2b2lkIDAsbmFtZTphLHRpbWU6ZS50aW1lKCksc2xvdzplLnNsb3coKSxsaW5lOmUuc3RhcnRSYW5nZSgpP2Uuc3RhcnRSYW5nZSgpLnN0YXJ0TGluZSgpOjEsbG9nczpfLm1hcChlLmNvbnNvbGVNZXNzYWdlcygpLGZ1bmN0aW9uKGUpe3ZhciB0PXttZXNzYWdlOmUudGV4dCgpfTtyZXR1cm4gZS5maWxlKCkmJih0LmxvY2F0aW9uPWkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGUoKS5wYXRoKCkpKSx0fSksZXJyb3JzOl8ubWFwKGUuZXJyb3JzKCksZnVuY3Rpb24oZSl7cmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlKCksc3RhY2s6Xy5tYXAoZS5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybiBpLl9idWlsZExvY2F0aW9uKGUsZS5maWxlUGF0aCgpKX0pLGFjdHVhbDplLmFjdHVhbCgpLGV4cGVjdGVkOmUuZXhwZWN0ZWQoKX19KSxjb3ZlcmVkRmlsZXM6b319KSx7cGF0aDplLnBhdGgoKSxhY3Rpb246bix0ZXN0czppLl9idWlsZEFycmF5VGVzdFN0cnVjdHVyZShzKX19KX19LF9idWlsZExvY2F0aW9uOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXtwYXRoOnR9O3JldHVybiBlLnJhbmdlKCk/KG4ubGluZT1lLnJhbmdlKCkuc3RhcnRMaW5lKCksbi5jb2x1bW49ZS5yYW5nZSgpLnN0YXJ0Q29sdW1uKCkpOmUubGluZSgpJiYobi5saW5lPWUubGluZSgpKSxuLmNvbnRleHQ9ZS5jb250ZXh0KCksbn19LF9idWlsZEFycmF5VGVzdFN0cnVjdHVyZTp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXy5tYXAoZSxmdW5jdGlvbihlLG4pe3JldHVybiBlLmlzVGVzdD09PSEwPyhkZWxldGUgZS5pc1Rlc3QsZSk6e25hbWU6bix0ZXN0czp0Ll9idWlsZEFycmF5VGVzdFN0cnVjdHVyZShlKX19KX19LF9zdGFydDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt2YXIgdD1uWyJtb2RlbDoiK2UudHlwZV07dCYmdC5jYWxsKG4sZSl9KX0scz1mdW5jdGlvbigpe24uX3dzcz1uZXcgdSh7cG9ydDplLHZlcmlmeUNsaWVudDpmdW5jdGlvbihlKXt2YXIgdD0hMTt0cnl7dmFyIG49Yy5wYXJzZShlLm9yaWdpbik7dD0id2FsbGFieWpzLmNvbSI9PT1uLmhvc3RuYW1lfWNhdGNoKGkpe31yZXR1cm4gdH19KSxuLl93c3Mub24oImNvbm5lY3Rpb24iLGZ1bmN0aW9uKGUpe2QoIlVJIGNsaWVudCBjb25uZWN0ZWQiKSxuLl9tb2RlbD10LGUuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMSxlLl9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITAsIW4uX2Nvbm5lY3Rpb25zLmxlbmd0aCYmbi5fbW9kZWwub24oIm1lc3NhZ2UiLGkpLG4uX2Nvbm5lY3Rpb25zLnB1c2goZSksZS5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7dmFyIGk9dm9pZCAwO3RyeXtpPUpTT04ucGFyc2UodCl9Y2F0Y2gocyl7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGRlc2VyaWFsaXplIG1lc3NhZ2UgZnJvbSB3YWxsYWJ5IFVJOiAiK3QrIiwgIisocyYmcy5tZXNzYWdlKSl9ZCgiSW5jb21pbmcgbWVzc2FnZSAlcyIsaS50eXBlKTt2YXIgYT1uW2kudHlwZV07YSYmYS5jYWxsKG4saSxlKX0pLGUub24oImNsb3NlIixmdW5jdGlvbigpe2QoIlVJIGNsaWVudCBkaXNjb25uZWN0ZWQiKSxuLl9jb25uZWN0aW9ucz1uLl9jb25uZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQhPWV9KSwhbi5fY29ubmVjdGlvbnMubGVuZ3RoJiZuLl9tb2RlbC5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsaSl9KSxuLl9zZW5kKHt0eXBlOiJ1aTpoYW5kc2hha2UiLHByb2plY3Q6e25hbWU6bi5fbW9kZWwucHJvamVjdE5hbWUoKSxwYXRoOm4uX21vZGVsLmNvbmZpZ0ZpbGVQYXRoKCksY29uZmlnOm4uX21vZGVsLnByb2plY3RDb25maWcoKX0sdmVyc2lvbjpuLl9tb2RlbC5jb3JlVmVyc2lvbigpfSxlKX0pLGQoIkxpc3RlbmluZyBwb3J0ICVzIixlKX07bi5fY2hlY2tQb3J0KHYpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZSl0cnl7bi5faHR0cFNlcnZlcj1sLmNyZWF0ZVNlcnZlcihmdW5jdGlvbihlLHQpe3Qud3JpdGVIZWFkKDIwMCx7IkNvbnRlbnQtVHlwZSI6InRleHQvaHRtbCJ9KSx0LndyaXRlKHApLHQuZW5kKCl9KS5vbmNlKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHMoKX0pLmxpc3RlbihlKX1jYXRjaCh0KXtzKCl9ZWxzZSBzKCl9KX19LF9zZW5kOnt2YWx1ZTpmdW5jdGlvbihlLHQpe3QmJigidWk6dGVzdHM6YWxsUmVzdWx0c1VwZGF0ZWQiPT09ZS50eXBlPyh0Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtPTAsZS5zZXE9dC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bSsrKToidWk6dGVzdHM6c29tZVJlc3VsdHNVcGRhdGVkIj09PWUudHlwZSYmKGUuc2VxPXQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW0rKykpLGQoIk91dGdvaW5nIG1lc3NhZ2UgJXMiLGUudHlwZSk7dmFyIG49SlNPTi5zdHJpbmdpZnkoZSk7dD90LnNlbmQobik6Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQobil9KX19LF9maW5kRnJlZVBvcnQ6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUS5hbGwoXy5tYXAoZixmdW5jdGlvbih0KXtyZXR1cm4gZS5fY2hlY2tQb3J0KHQpfSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIF8uZmluZChlLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZXx8US5yZWplY3QobmV3IEVycm9yKCJDYW4gbm90IGZpbmQgYSBmcmVlIHBvcnQiKSl9KX19LF9jaGVja1BvcnQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT1vLmNyZWF0ZVNlcnZlcigpLm9uY2UoImVycm9yIixmdW5jdGlvbih0KXtyZXR1cm4gbih0JiYiRUFERFJOT1RBVkFJTCI9PT10LmNvZGU/ZTowKX0pLm9uY2UoImxpc3RlbmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gaS5vbmNlKCJjbG9zZSIsZnVuY3Rpb24oKXtyZXR1cm4gbihlKX0pLmNsb3NlKCl9KS5saXN0ZW4oZSx0KX19O3JldHVybiBRLnByb21pc2UodCgiMC4wLjAuMCIpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlP1EucHJvbWlzZSh0KCIxMjcuMC4wLjEiKSk6MH0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/US5wcm9taXNlKHQoIjo6MSIpKTowfSl9fSxzdG9wOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fd3NzJiZlLl93c3MuY2xvc2UoKSxlLl9odHRwU2VydmVyJiZlLl9odHRwU2VydmVyLmNsb3NlKCl9fX0pLG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWd9LHsiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiOjUsZGVidWc6dm9pZCAwLGh0dHA6dm9pZCAwLG5ldDp2b2lkIDAsdXJsOnZvaWQgMCx3czp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cmFuZG9tSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNSl9LG5vb3BUcnVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG5vb3BUcnVlUHJvbWlzZTpmdW5jdGlvbigpe3JldHVybiBRLmZjYWxsKHRoaXMubm9vcFRydWUpfSxpc1BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD4yJiYiQCI9PT1lWzBdJiYiQCI9PT1lWzFdfSx0ZXh0SW5kZXhQb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMudGV4dExpbmVzKGUsdCk7cmV0dXJue2xpbmU6bi5sZW5ndGgsY29sdW1uOm5bbi5sZW5ndGgtMV0ubGVuZ3RofX0sdGV4dExpbmVzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9Xy5pc1VuZGVmaW5lZCh0KT9lOmUuc3Vic3RyKDAsdCksZS5zcGxpdCgvXHJcbnxccnxcbi8pfSx2ZXJpZnlMb2NhbE9yaWdpbjpmdW5jdGlvbih0LG4pe2lmKCF0KXJldHVybiEwO3ZhciBpPSExO3RyeXt2YXIgcz1lKCJ1cmwiKS5wYXJzZSh0KS5ob3N0bmFtZTtpPSJsb2NhbGhvc3QiPT09c3x8IjAuMC4wLjAiPT09c3x8IjEyNy4wLjAuMSI9PT1zfHwiOjoxIj09PXN9Y2F0Y2goYSl7fXJldHVybiBpfHxufHxjb25zb2xlLmVycm9yKCJ3YWxsYWJ5LmpzIHJlZnVzZWQgdG8gYWNjZXB0IGNvbm5lY3Rpb24gZnJvbSAiK3QpLGl9fX0se3VybDp2b2lkIDB9XX0se30sWzFdKTs=