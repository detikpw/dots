/*
 * Wallaby.js - v1.0.444
 * http://wallabyjs.com
 * Copyright (c) 2014-2017 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function e(t,n,i){function s(r,o){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return s(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}var a="function"==typeof require&&require;module.exports=s(i[0])}({1:[function(e,t,n){e("./lib/global");var i=e("child_process"),s=e("path"),a=e("http"),r=e("ws"),o=0,l=/^win/.test(process.platform),c=function(){this._killed=!1,this._callbacks=Object.create(null)};c.prototype=_.extend(Object.create(EventEmitter.prototype),{start:function(e){var t=this;this._openedFiles=Object.create(null),this._killed=!1,this._forceKillProcessTimeout=e.forceKillProcessTimeout||1e3,this._nodePath=process.env.WALLABY_NODE||"node";var n=process.env.PATH||process.env.Path,a=_.extend({},process.env,{PATH:(n?n+s.delimiter:"")+(l?"":"/usr/local/bin")});delete a.NODE_ENV,delete a.NODE_PATH,t._withFreePort(function(n){t._killed||(t._process=i.spawn(t._nodePath,["--harmony",s.join(__dirname,"server.js"),"extended-core-ws","--projectCachePath="+e.projectPath,"--configPath="+e.configPath,"--lkp="+e.lkp,"--client="+e.client,"--phantomjs="+e.phantomPath,"--editorTypeScript="+e.editorTypeScript,"--port="+n,"--quokka="+(e.fileName||"")],{env:a,cwd:e.configPath&&!e.fileName?s.dirname(e.configPath):e.localRoot||e.quokkaFolder}),t._process.on("error",function(e){e&&e.message&&~e.message.indexOf("spawn "+t._nodePath+" ENOENT")?(t.emit("notification",{type:"error",text:"Can not start node.js process ("+t._nodePath+'), make sure your system has <a href="http://wallabyjs.com/docs/intro/install.html#node-js">node.js installed</a>.'}),t.emit("stopped",{})):t.emit("consoleError",e.stack||e.message)}),t._bufferStream(t._process.stderr,function(e){t.emit("consoleError",e)}),t._bufferStream(t._process.stdout,function(e){e&&(~e.indexOf("wallaby.js started")||~e.indexOf("quokka.js started"))?t._connectToServer(n):t.emit("consoleLog",e)}))})},stop:function(){var e,t=this;try{e=this._process.pid;try{this._send({type:"stop"}),this._ws.close(),this._ws.removeAllListeners("close"),this._ws.removeAllListeners("error")}finally{try{this._process.disconnect()}catch(n){}setTimeout(function(){try{t._isProcessRunning(e)&&process.kill(e)}catch(n){}},t._forceKillProcessTimeout)}}catch(n){}finally{this._killed=!0,this._callbacks=Object.create(null),this._openedFiles=Object.create(null)}},_isProcessRunning:function(e){try{return process.kill(e,0)}catch(t){return"EPERM"===t.code}},_connectToServer:function(e,t){var n=this;t=t||"localhost",n._ws=new r("ws://"+t+":"+e),n._ws.on("message",function(e){var t=JSON.parse(e),i=n["_"+t.type];i&&i.call(n,t)}),n._ws.on("close",function(e,t){console.log("Disconnected from wallaby core: "+e+(t?", "+t:""))}),n._ws.on("error",function(){n._connectToServer(e,"127.0.0.1")})},_withFreePort:function(e){var t=a.createServer();t.listen(0),t.on("listening",function(){var n=t.address().port;t.once("close",function(){e(n)}),t.close()})},isDisposed:function(){return this._killed},fileChangedInEditor:function(e,t,n){this._send({type:"fileChangedInEditor",path:e,content:t,changeFrame:n})},fileOpenedInEditor:function(e){this._openedFiles[e]=(this._openedFiles[e]||0)+1,this._send({type:"fileOpenedInEditor",path:e})},fileClosedInEditor:function(e){var t=(this._openedFiles[e]||0)-1;if(this._openedFiles[e]=t,0>t)throw new Error("Negative opened editor count for "+e);0===t&&(delete this._openedFiles[e],this._send({type:"fileClosedInAllEditors",path:e}))},runTests:function(e){this._send({type:"runTests",request:e})},continueTrial:function(){this._send({type:"continueTrial"})},requestUncoveredRegions:function(e,t){this._requestWithCorrelationId("uncoveredRegions",e,t)},requestLineReport:function(e,t){this._requestWithCorrelationId("lineReport",e,t)},requestLocation:function(e,t){this._requestWithCorrelationId("location",e,t)},requestInstrumentedFile:function(e,t){this._requestWithCorrelationId("instrumentedFile",e,t)},_requestWithCorrelationId:function(e,t,n){var i=this,s=++o,a=this._callbacks[s]={done:n};this._send({type:e,request:t,id:s}),a.timeout=setTimeout(function(){delete i._callbacks[s]},5e3)},_responseWithCorrelationId:function(e){var t=this._callbacks[e.id];delete this._callbacks[e.id],t&&(clearTimeout(t.timeout),t.done(e.data))},_bufferStream:function(e,t){var n=this,i="";e.setEncoding("utf8"),e.on("data",function(e){if(!n._killed){i+=e;var s=i.lastIndexOf("\n");~s&&(t(i.substring(0,s+1)),i=i.substring(s+1))}}),e.on("close",function(){n._killed||i.length&&t(i)})},_send:function(e){this._ws&&this._ws.send(JSON.stringify(e))},_started:function(e){this.emit("started",e)},_stopped:function(e){this.emit("stopped",e)},_configChanged:function(e){this.emit("configChanged",e)},_expiredLicense:function(e){this.emit("expiredLicense",e)},_documentUpdates:function(e){this.emit("documentUpdates",e.updates)},_navigationRequested:function(e){this.emit("navigationRequested",e)},_stats:function(e){this.emit("stats",e.data)},_filesToTrack:function(e){this.emit("filesToTrack",e.files)},_live:function(e){this.emit("live",e)},_projectConfigured:function(e){},_notification:function(e){this.emit("notification",e.notification)},_consoleOutput:function(e){this.emit("consoleOutput",e.messages)},_busy:function(){this.emit("busy")},_location:function(e){this._responseWithCorrelationId(e)},_uncoveredRegions:function(e){this._responseWithCorrelationId(e)},_lineReport:function(e){this._responseWithCorrelationId(e)},_instrumentedFile:function(e){this._responseWithCorrelationId(e)}}),t.exports={Session:c,enums:e("./lib/extension/shared/enums"),utils:e("./lib/extension/shared/utils"),reportBuilder:e("./lib/extension/client/reportBuilder"),dmp:new(e("./lib/diffMatchPatch"))}},{"./lib/diffMatchPatch":2,"./lib/extension/client/reportBuilder":3,"./lib/extension/shared/enums":4,"./lib/extension/shared/utils":5,"./lib/global":6,child_process:void 0,http:void 0,path:void 0,ws:void 0}],2:[function(e,t,n){function i(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var s=-1,a=1,r=0;i.Diff,i.prototype.diff_main=function(e,t,n,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[r,e]]:[];"undefined"==typeof n&&(n=!0);var a=n,o=this.diff_commonPrefix(e,t),l=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=this.diff_commonSuffix(e,t);var c=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var u=this.diff_compute_(e,t,a,s);return l&&u.unshift([r,l]),c&&u.push([r,c]),this.diff_cleanupMerge(u),u},i.prototype.diff_compute_=function(e,t,n,i){var o;if(!e)return[[a,t]];if(!t)return[[s,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return o=[[a,l.substring(0,u)],[r,c],[a,l.substring(u+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=s),o;if(1==c.length)return[[s,e],[a,t]];var h=this.diff_halfMatch_(e,t);if(h){var d=h[0],f=h[1],_=h[2],v=h[3],p=h[4],g=this.diff_main(d,_,n,i),m=this.diff_main(f,v,n,i);return g.concat([[r,p]],m)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},i.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var o=i.lineArray,l=this.diff_main(e,t,!1,n);this.diff_charsToLines_(l,o),this.diff_cleanupSemantic(l),l.push([r,""]);for(var c=0,u=0,h=0,d="",f="";c<l.length;){switch(l[c][0]){case a:h++,f+=l[c][1];break;case s:u++,d+=l[c][1];break;case r:if(u>=1&&h>=1){l.splice(c-u-h,u+h),c=c-u-h;for(var i=this.diff_main(d,f,!1,n),_=i.length-1;_>=0;_--)l.splice(c,0,i[_]);c+=i.length}h=0,u=0,d="",f=""}c++}return l.pop(),l},i.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,r=t.length,o=Math.ceil((i+r)/2),l=o,c=2*o,u=new Array(c),h=new Array(c),d=0;c>d;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=i-r,_=f%2!=0,v=0,p=0,g=0,m=0,y=0;o>y&&!((new Date).getTime()>n);y++){for(var T=-y+v;y-p>=T;T+=2){var b,R=l+T;b=T==-y||T!=y&&u[R-1]<u[R+1]?u[R+1]:u[R-1]+1;for(var V=b-T;i>b&&r>V&&e.charAt(b)==t.charAt(V);)b++,V++;if(u[R]=b,b>i)p+=2;else if(V>r)v+=2;else if(_){var F=l+f-T;if(F>=0&&c>F&&-1!=h[F]){var k=i-h[F];if(b>=k)return this.diff_bisectSplit_(e,t,b,V,n)}}}for(var N=-y+g;y-m>=N;N+=2){var k,F=l+N;k=N==-y||N!=y&&h[F-1]<h[F+1]?h[F+1]:h[F-1]+1;for(var j=k-N;i>k&&r>j&&e.charAt(i-k-1)==t.charAt(r-j-1);)k++,j++;if(h[F]=k,k>i)m+=2;else if(j>r)g+=2;else if(!_){var R=l+f-N;if(R>=0&&c>R&&-1!=u[R]){var b=u[R],V=l+b-R;if(k=i-k,b>=k)return this.diff_bisectSplit_(e,t,b,V,n)}}}}return[[s,e],[a,t]]},i.prototype.diff_bisectSplit_=function(e,t,n,i,s){var a=e.substring(0,n),r=t.substring(0,i),o=e.substring(n),l=t.substring(i),c=this.diff_main(a,r,!1,s),u=this.diff_main(o,l,!1,s);return c.concat(u)},i.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,a=-1,r=i.length;a<e.length-1;){a=e.indexOf("\n",n),-1==a&&(a=e.length-1);var o=e.substring(n,a+1);n=a+1,(s.hasOwnProperty?s.hasOwnProperty(o):void 0!==s[o])?t+=String.fromCharCode(s[o]):(t+=String.fromCharCode(r),s[o]=r,i[r++]=o)}return t}var i=[],s={};i[0]="";var a=n(e),r=n(t);return{chars1:a,chars2:r,lineArray:i}},i.prototype.diff_wordMode=function(e,t){var n=this.diff_linesToWords_(e,t),i=n.chars1,s=n.chars2,a=n.lineArray,r=this.diff_main(i,s,!1);return this.diff_charsToLines_(r,a),r},i.prototype.diff_linesToWords_=function(e,t){function n(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&r.test(t[n])&&r.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}function i(e){for(var t="",i=n(e),r=s.length,o=0,l=i.length;l>o;o++){var c=i[o];(a.hasOwnProperty?a.hasOwnProperty(c):void 0!==a[c])?t+=String.fromCharCode(a[c]):(t+=String.fromCharCode(r),a[c]=r,s[r++]=c)}return t}var s=[],a={};s[0]="";var r=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,o=i(e),l=i(t);return{chars1:o,chars2:l,lineArray:s}},i.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],s=[],a=0;a<i.length;a++)s[a]=t[i.charCodeAt(a)];e[n][1]=s.join("")}},i.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),s=i,a=0;s>n;)e.substring(a,s)==t.substring(a,s)?(n=s,a=n):i=s,s=Math.floor((i-n)/2+n);return s},i.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),s=i,a=0;s>n;)e.substring(e.length-s,e.length-a)==t.substring(t.length-s,t.length-a)?(n=s,a=n):i=s,s=Math.floor((i-n)/2+n);return s},i.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):i>n&&(t=t.substring(0,n));var s=Math.min(n,i);if(e==t)return s;for(var a=0,r=1;;){var o=e.substring(s-r),l=t.indexOf(o);if(-1==l)return a;r+=l,(0==l||e.substring(s-r)==t.substring(0,r))&&(a=r,r++)}},i.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var i,s,a,o,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var h=r.diff_commonPrefix(e.substring(n),t.substring(c)),d=r.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),i=e.substring(0,n-d),s=e.substring(n+h),a=t.substring(0,c-d),o=t.substring(c+h))}return 2*u.length>=e.length?[i,s,a,o,u]:null}if(this.Diff_Timeout<=0)return null;var i=e.length>t.length?e:t,s=e.length>t.length?t:e;if(i.length<4||2*s.length<i.length)return null;var a,r=this,o=n(i,s,Math.ceil(i.length/4)),l=n(i,s,Math.ceil(i.length/2));if(!o&&!l)return null;a=l?o&&o[4].length>l[4].length?o:l:o;var c,u,h,d;e.length>t.length?(c=a[0],u=a[1],h=a[2],d=a[3]):(h=a[0],d=a[1],c=a[2],u=a[3]);var f=a[4];return[c,u,h,d,f]},i.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,o=null,l=0,c=0,u=0,h=0,d=0;l<e.length;)e[l][0]==r?(n[i++]=l,c=h,u=d,h=0,d=0,o=e[l][1]):(e[l][0]==a?h+=e[l][1].length:d+=e[l][1].length,o&&o.length<=Math.max(c,u)&&o.length<=Math.max(h,d)&&(e.splice(n[i-1],0,[s,o]),e[n[i-1]+1][0]=a,i--,i--,l=i>0?n[i-1]:-1,c=0,u=0,h=0,d=0,o=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==s&&e[l][0]==a){var f=e[l-1][1],_=e[l][1],v=this.diff_commonOverlap_(f,_),p=this.diff_commonOverlap_(_,f);v>=p?(v>=f.length/2||v>=_.length/2)&&(e.splice(l,0,[r,_.substring(0,v)]),e[l-1][1]=f.substring(0,f.length-v),e[l+1][1]=_.substring(v),l++):(p>=f.length/2||p>=_.length/2)&&(e.splice(l,0,[r,f.substring(0,p)]),e[l-1][0]=a,e[l-1][1]=_.substring(0,_.length-p),e[l+1][0]=s,e[l+1][1]=f.substring(p),l++),l++}l++}},i.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),s=t.charAt(0),a=n.match(i.nonAlphaNumericRegex_),r=s.match(i.nonAlphaNumericRegex_),o=a&&n.match(i.whitespaceRegex_),l=r&&s.match(i.whitespaceRegex_),c=o&&n.match(i.linebreakRegex_),u=l&&s.match(i.linebreakRegex_),h=c&&e.match(i.blanklineEndRegex_),d=u&&t.match(i.blanklineStartRegex_);return h||d?5:c||u?4:a&&!o&&l?3:o||l?2:a||r?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==r&&e[n+1][0]==r){var s=e[n-1][1],a=e[n][1],o=e[n+1][1],l=this.diff_commonSuffix(s,a);if(l){var c=a.substring(a.length-l);s=s.substring(0,s.length-l),a=c+a.substring(0,a.length-l),o=c+o}for(var u=s,h=a,d=o,f=t(s,a)+t(a,o);a.charAt(0)===o.charAt(0);){s+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);var _=t(s,a)+t(a,o);_>=f&&(f=_,u=s,h=a,d=o)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=h,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,o=null,l=0,c=!1,u=!1,h=!1,d=!1;l<e.length;)e[l][0]==r?(e[l][1].length<this.Diff_EditCost&&(h||d)?(n[i++]=l,c=h,u=d,o=e[l][1]):(i=0,o=null),h=d=!1):(e[l][0]==s?d=!0:h=!0,o&&(c&&u&&h&&d||o.length<this.Diff_EditCost/2&&c+u+h+d==3)&&(e.splice(n[i-1],0,[s,o]),e[n[i-1]+1][0]=a,i--,o=null,c&&u?(h=d=!0,i=0):(i--,l=i>0?n[i-1]:-1,h=d=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},i.prototype.diff_cleanupMerge=function(e){e.push([r,""]);for(var t,n=0,i=0,o=0,l="",c="";n<e.length;)switch(e[n][0]){case a:o++,c+=e[n][1],n++;break;case s:i++,l+=e[n][1],n++;break;case r:i+o>1?(0!==i&&0!==o&&(t=this.diff_commonPrefix(c,l),0!==t&&(n-i-o>0&&e[n-i-o-1][0]==r?e[n-i-o-1][1]+=c.substring(0,t):(e.splice(0,0,[r,c.substring(0,t)]),n++),c=c.substring(t),l=l.substring(t)),t=this.diff_commonSuffix(c,l),0!==t&&(e[n][1]=c.substring(c.length-t)+e[n][1],c=c.substring(0,c.length-t),l=l.substring(0,l.length-t))),0===i?e.splice(n-o,i+o,[a,c]):0===o?e.splice(n-i,i+o,[s,l]):e.splice(n-i-o,i+o,[s,l],[a,c]),n=n-i-o+(i?1:0)+(o?1:0)+1):0!==n&&e[n-1][0]==r?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,i=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(n=1;n<e.length-1;)e[n-1][0]==r&&e[n+1][0]==r&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&this.diff_cleanupMerge(e)},i.prototype.diff_xIndex=function(e,t){var n,i=0,r=0,o=0,l=0;for(n=0;n<e.length&&(e[n][0]!==a&&(i+=e[n][1].length),e[n][0]!==s&&(r+=e[n][1].length),!(i>t));n++)o=i,l=r;return e.length!=n&&e[n][0]===s?l:l+(t-o)},i.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,l=/\n/g,c=0;c<e.length;c++){var u=e[c][0],h=e[c][1],d=h.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(l,"&para;<br>");switch(u){case a:t[c]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case s:t[c]='<del style="background:#ffe6e6;">'+d+"</del>";break;case r:t[c]="<span>"+d+"</span>"}}return t.join("")},i.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==a&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==s&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var l=e[o][0],c=e[o][1];switch(l){case a:n+=c.length;break;case s:i+=c.length;break;case r:t+=Math.max(n,i),n=0,i=0}}return t+=Math.max(n,i)},i.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case a:t[n]="+"+encodeURI(e[n][1]);break;case s:t[n]="-"+e[n][1].length;break;case r:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,o=0,l=t.split(/\t/g),c=0;c<l.length;c++){var u=l[c].substring(1);switch(l[c].charAt(0)){case"+":try{n[i++]=[a,decodeURI(u)]}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var d=parseInt(u,10);if(isNaN(d)||0>d)throw new Error("Invalid number in diff_fromDelta: "+u);var f=e.substring(o,o+=d);"="==l[c].charAt(0)?n[i++]=[r,f]:n[i++]=[s,f];break;default:if(l[c])throw new Error("Invalid diff operation in diff_fromDelta: "+l[c])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return n},i.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},i.prototype.match_bitap_=function(e,t,n){function i(e,i){var s=e/t.length,r=Math.abs(n-i);return a.Match_Distance?s+r/a.Match_Distance:r?1:s}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(t),a=this,r=this.Match_Threshold,o=e.indexOf(t,n);-1!=o&&(r=Math.min(i(0,o),r),o=e.lastIndexOf(t,n+t.length),-1!=o&&(r=Math.min(i(0,o),r)));var l=1<<t.length-1;o=-1;for(var c,u,h,d=t.length+e.length,f=0;f<t.length;f++){for(c=0,u=d;u>c;)i(f,n+u)<=r?c=u:d=u,u=Math.floor((d-c)/2+c);d=u;var _=Math.max(1,n-u+1),v=Math.min(n+u,e.length)+t.length,p=Array(v+2);p[v+1]=(1<<f)-1;for(var g=v;g>=_;g--){var m=s[e.charAt(g-1)];if(0===f?p[g]=(p[g+1]<<1|1)&m:p[g]=(p[g+1]<<1|1)&m|((h[g+1]|h[g])<<1|1)|h[g+1],p[g]&l){var y=i(f,g-1);if(r>=y){if(r=y,o=g-1,!(o>n))break;_=Math.max(1,2*n-o)}}}if(i(f+1,n)>r)break;h=p}return o},i.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},i.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift([r,s]);var a=t.substring(e.start2+e.length1,e.start2+e.length1+i);a&&e.diffs.push([r,a]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+a.length,e.length2+=s.length+a.length}},i.prototype.patch_make=function(e,t,n){var o,l;if("string"==typeof e&&"string"==typeof t&&"undefined"==typeof n)o=e,l=this.diff_main(o,t,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==typeof e&&"undefined"==typeof t&&"undefined"==typeof n)l=e,o=this.diff_text1(l);else if("string"==typeof e&&t&&"object"==typeof t&&"undefined"==typeof n)o=e,l=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");o=e,l=n}if(0===l.length)return[];for(var c=[],u=new i.patch_obj,h=0,d=0,f=0,_=o,v=o,p=0;p<l.length;p++){var g=l[p][0],m=l[p][1];switch(h||g===r||(u.start1=d,u.start2=f),g){case a:u.diffs[h++]=l[p],u.length2+=m.length,v=v.substring(0,f)+m+v.substring(f);break;case s:u.length1+=m.length,u.diffs[h++]=l[p],v=v.substring(0,f)+v.substring(f+m.length);break;case r:m.length<=2*this.Patch_Margin&&h&&l.length!=p+1?(u.diffs[h++]=l[p],u.length1+=m.length,u.length2+=m.length):m.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(u,_),c.push(u),u=new i.patch_obj,h=0,_=v,d=f)}g!==a&&(d+=m.length),g!==s&&(f+=m.length)}return h&&(this.patch_addContext_(u,_),c.push(u)),c},i.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n],a=new i.patch_obj;a.diffs=[];for(var r=0;r<s.diffs.length;r++)a.diffs[r]=s.diffs[r].slice();a.start1=s.start1,a.start2=s.start2,a.length1=s.length1,a.length2=s.length2,t[n]=a}return t},i.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],l=0;l<e.length;l++){var c,u=e[l].start2+i,h=this.diff_text1(e[l].diffs),d=-1;if(h.length>this.Match_MaxBits?(c=this.match_main(t,h.substring(0,this.Match_MaxBits),u),-1!=c&&(d=this.match_main(t,h.substring(h.length-this.Match_MaxBits),u+h.length-this.Match_MaxBits),(-1==d||c>=d)&&(c=-1))):c=this.match_main(t,h,u),-1==c)o[l]=!1,i-=e[l].length2-e[l].length1;else{o[l]=!0,i=c-u;var f;if(f=-1==d?t.substring(c,c+h.length):t.substring(c,d+this.Match_MaxBits),h==f)t=t.substring(0,c)+this.diff_text2(e[l].diffs)+t.substring(c+h.length);else{var _=this.diff_main(h,f,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(_)/h.length>this.Patch_DeleteThreshold)o[l]=!1;else{this.diff_cleanupSemanticLossless(_);for(var v,p=0,g=0;g<e[l].diffs.length;g++){var m=e[l].diffs[g];m[0]!==r&&(v=this.diff_xIndex(_,p)),m[0]===a?t=t.substring(0,c+v)+m[1]+t.substring(c+v):m[0]===s&&(t=t.substring(0,c+v)+t.substring(c+this.diff_xIndex(_,p+m[1].length))),m[0]!==s&&(p+=m[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,o]},i.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;t>=i;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],a=s.diffs;if(0==a.length||a[0][0]!=r)a.unshift([r,n]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>a[0][1].length){var o=t-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],s.start1-=o,s.start2-=o,s.length1+=o,s.length2+=o}if(s=e[e.length-1],a=s.diffs,0==a.length||a[a.length-1][0]!=r)a.push([r,n]),s.length1+=t,s.length2+=t;else if(t>a[a.length-1][1].length){var o=t-a[a.length-1][1].length;a[a.length-1][1]+=n.substring(0,o),s.length1+=o,s.length2+=o}return n},i.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var o=e[n];e.splice(n--,1);for(var l=o.start1,c=o.start2,u="";0!==o.diffs.length;){var h=new i.patch_obj,d=!0;for(h.start1=l-u.length,h.start2=c-u.length,""!==u&&(h.length1=h.length2=u.length,h.diffs.push([r,u]));0!==o.diffs.length&&h.length1<t-this.Patch_Margin;){var f=o.diffs[0][0],_=o.diffs[0][1];f===a?(h.length2+=_.length,c+=_.length,h.diffs.push(o.diffs.shift()),d=!1):f===s&&1==h.diffs.length&&h.diffs[0][0]==r&&_.length>2*t?(h.length1+=_.length,l+=_.length,d=!1,h.diffs.push([f,_]),o.diffs.shift()):(_=_.substring(0,t-h.length1-this.Patch_Margin),h.length1+=_.length,l+=_.length,f===r?(h.length2+=_.length,c+=_.length):d=!1,h.diffs.push([f,_]),_==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(_.length))}u=this.diff_text2(h.diffs),u=u.substring(u.length-this.Patch_Margin);var v=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==v&&(h.length1+=v.length,h.length2+=v.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===r?h.diffs[h.diffs.length-1][1]+=v:h.diffs.push([r,v])),d||e.splice(++n,0,h)}}},i.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},i.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),o=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<n.length;){var c=n[o].match(l);if(!c)throw new Error("Invalid patch string: "+n[o]);var u=new i.patch_obj;for(t.push(u),u.start1=parseInt(c[1],10),""===c[2]?(u.start1--,u.length1=1):"0"==c[2]?u.length1=0:(u.start1--,u.length1=parseInt(c[2],10)),u.start2=parseInt(c[3],10),""===c[4]?(u.start2--,u.length2=1):"0"==c[4]?u.length2=0:(u.start2--,u.length2=parseInt(c[4],10)),o++;o<n.length;){var h=n[o].charAt(0);try{var d=decodeURI(n[o].substring(1))}catch(f){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==h)u.diffs.push([s,d]);else if("+"==h)u.diffs.push([a,d]);else if(" "==h)u.diffs.push([r,d]);else{if("@"==h)break;if(""!==h)throw new Error('Invalid patch mode "'+h+'" in: '+d)}o++}}return t},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,i=["@@ -"+e+" +"+t+" @@\n"],o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case a:n="+";break;case s:n="-";break;case r:n=" "}i[o+1]=n+encodeURI(this.diffs[o][1])+"\n"}return i.join("").replace(/%20/g," ")},t.exports=i},{}],3:[function(e,t,n){var i=new(e("../../diffMatchPatch"));t.exports={tests:function(e,t){var n=this,i="";return _.isString(e)?i+=t?n._error(e):n._escapeAndConvertToHtml(e):(_.each(e.errors,function(e){i+=n._error(e.message,e.stack,e.expected,e.actual)}),_.each(e.tests,function(e){i+=n._test(e)})),i},_error:function(e,t,n,i){var s=this,a="";return(n||i)&&(a=s._diff(n,i)+"<br/>"),'<section class="error">'+a+'<section class="header">'+s._escapeAndConvertToHtml(e)+"</section>"+_.reduce(t,function(e,t){return e+=s._line(t)},"")+"</section>"},_line:function(e){var t=this._escape(e.file),n=e.context&&this._escape(e.context)||"";return t?'<section class="line">at '+(n?n+" ":"")+'<a class="loc" data-file="'+t+'" data-loc="'+e.loc+'">'+t+":"+e.loc+"</a></section>":""},_test:function(e){var t=this,n=e.path&&_.last(e.path)||"",i=_.initial(e.path||[]).join(" ");n=n&&" "+t._escape(n),i=i&&" "+t._escape(i);var s=_.isNumber(e.time)?" "+e.time+" ms":"",a=t._escape(e.file);return'<section class="test'+(e.failing?" failing":"")+'"><section class="header"><a class="'+(e.loc?"loc":"text")+'" data-file="'+a+'" data-loc="'+e.loc+'">'+e.file+'</a><span class="suite">'+i+'</span><span class="name">'+n+"</span>"+(s?'<span class="time">'+s+"</span>":"")+"</section>"+_.reduce(e.errors,function(e,n){return e+=t._error(n.message,n.stack,n.expected,n.actual)},"")+(e.messages&&e.messages.length?_.reduce(e.messages,function(e,n){return e+='<section class="message '+n.type+'"><span class="text">'+t._escapeAndConvertToHtml(n.text)+"&nbsp;</span>"+t._line(n)+"</section>"},'<section class="console"><section class="header">From console:</section>')+"</section>":"")+"</section>"},_diff:function(e,t){try{return'<section class="diff" style="white-space: pre;">'+i.diff_prettyHtml(i.diff_wordMode(e||"",t||"")).replace(/&para;<br>/g,"<br>").replace(/style="background:#e6ffe6;"/g,'class="status-added"').replace(/style="background:#ffe6e6;"/g,'class="status-removed"')+"</section>"}catch(n){return""}},_escape:function(e){return(e||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},_escapeAndConvertToHtml:function(e){return this._escape(e).replace(/(?:\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")}}},{"../../diffMatchPatch":2}],4:[function(e,t,n){t.exports={lineState:{notCovered:1,fullyCovered:2,partiallyCovered:3,errorSource:4,errorPath:5}}},{}],5:[function(e,t,n){t.exports={normalizePath:function(e){return"win32"===process.platform&&e?e.replace(/\\/g,"/"):e},parseKey:function(e){var t={},n=new Buffer(e,"base64").toString().split("\n");t.licenseeName=n[0],t.licenseTags=n[1];var i=t.licenseTags.split(",");return i.length>=1&&(t.licenseeEmail=i[0]),i.length>=2&&(t.licensedProduct=i[1]),t.expirationDateString=n[2],t.licenseSignature=n[3],t},format:function(e,t){return e.replace(/\{([0-9a-zA-Z_]+)\}/g,function(n,i,s){var a;return"{"===e[s-1]&&"}"===e[s+n.length]?i:(a=t.hasOwnProperty(i)?t[i]:null,null===a||void 0===a?"":a)})},validPackageName:function(e){if(e&&!e.match(/^\./)&&!e.match(/^_/)&&!(e.length>214||e.toLowerCase()!==e||/[~'!()*]/.test(e.split("/").slice(-1)[0]))){if(encodeURIComponent(e)===e)return e;var t=e.match(/^(?:@([^\/]+?)[\/])?([^\/]+?)$/);if(t){var n=t[1],i=t[2];if(encodeURIComponent(n)===n&&encodeURIComponent(i)===i)return e}}}}},{}],6:[function(e,t,n){global._=e("lodash"),global.Q=e("q"),global.EventEmitter=e("events").EventEmitter,Q.longStackSupport=!0,_.extend(_,e("./utils")),_.str=e("underscore.string"),_.mixin(_.str.exports());var i=e("module").Module.prototype,s=i._compile,a="rec",r="r.js",o=a+"eive"+r;i._compile=function(){return _.endsWith(arguments[1],o)&&(arguments[0]=new Buffer(arguments[0].substr(arguments[0].lastIndexOf("//# sourceMappingURL=data:application/json;base64,")+50),"base64").toString()),s.apply(this,arguments)}},{"./utils":7,events:void 0,lodash:void 0,module:void 0,q:void 0,"underscore.string":void 0}],7:[function(e,t,n){t.exports={randomId:function(){return Math.random().toString(36).substr(2,5)},noopTrue:function(){return!0},noopTruePromise:function(){return Q.fcall(this.noopTrue)},isPatch:function(e){return e&&e.length>2&&"@"===e[0]&&"@"===e[1]},textIndexPosition:function(e,t){var n=this.textLines(e,t);return{line:n.length,column:n[n.length-1].length}},textLines:function(e,t){return e=_.isUndefined(t)?e:e.substr(0,t),e.split(/\r\n|\r|\n/)},verifyLocalOrigin:function(t,n){if(!t)return!0;var i=!1;try{var s=e("url").parse(t).hostname;i="localhost"===s||"0.0.0.0"===s||"127.0.0.1"===s||"::1"===s}catch(a){}return i||n||console.error("wallaby.js refused to accept connection from "+t),i}}},{url:void 0}]},{},[1]);